(function(t){function e(e){for(var o,s,c=e[0],r=e[1],u=e[2],_=0,d=[];_<c.length;_++)s=c[_],i[s]&&d.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,c=1;c<n.length;c++){var r=n[c];0!==i[r]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},a=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=r;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},"0630":function(t,e,n){"use strict";var o=n("2c3b"),i=n.n(o);i.a},"0780":function(t,e,n){"use strict";var o=n("c0ec"),i=n.n(o);i.a},"0995":function(t,e,n){},"0eb4":function(t,e,n){},1485:function(t,e,n){"use strict";var o=n("825f"),i=n.n(o);i.a},"14a4":function(t,e,n){"use strict";var o=n("f244"),i=n.n(o);i.a},"1a54":function(t,e,n){},"2b25":function(t,e,n){"use strict";var o=n("4d39"),i=n.n(o);i.a},"2c3b":function(t,e,n){},"2de7":function(t,e,n){},3563:function(t,e,n){"use strict";var o=n("546f"),i=n.n(o);i.a},"391f":function(t,e,n){},4678:function(t,e,n){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=a(t);return n(e)}function a(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id="4678"},4714:function(t,e,n){"use strict";var o=n("bb07"),i=n.n(o);i.a},4957:function(t,e,n){},"4d39":function(t,e,n){},"546f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"connected",function(){return m}),n.d(o,"accessToken",function(){return g}),n.d(o,"userInfo",function(){return I}),n.d(o,"status",function(){return S}),n.d(o,"userThreads",function(){return h}),n.d(o,"userChattingThreads",function(){return O}),n.d(o,"userClosedThreads",function(){return N}),n.d(o,"userCurrentChatType",function(){return C}),n.d(o,"userCurrentThread",function(){return R}),n.d(o,"userQueues",function(){return A}),n.d(o,"userCurrentContact",function(){return v}),n.d(o,"userCurrentGroup",function(){return b}),n.d(o,"userBrowses",function(){return U}),n.d(o,"userContacts",function(){return P}),n.d(o,"userGroups",function(){return k}),n.d(o,"messages",function(){return y}),n.d(o,"statistic",function(){return w}),n.d(o,"statisticThreads",function(){return D}),n.d(o,"statisticRates",function(){return M}),n.d(o,"totalThreadCounts",function(){return G}),n.d(o,"totalQueueCounts",function(){return B}),n.d(o,"historyThreads",function(){return L}),n.d(o,"rates",function(){return F}),n.d(o,"historyMessages",function(){return V}),n.d(o,"leaveMessages",function(){return x}),n.d(o,"statuses",function(){return j}),n.d(o,"queues",function(){return Y}),n.d(o,"browses",function(){return H}),n.d(o,"monitors",function(){return W}),n.d(o,"qualities",function(){return $}),n.d(o,"agents",function(){return z}),n.d(o,"onlineAgents",function(){return q}),n.d(o,"workGroups",function(){return K}),n.d(o,"filterWorkGroups",function(){return J}),n.d(o,"filterWorkGroupMembers",function(){return X}),n.d(o,"companies",function(){return Q}),n.d(o,"regions",function(){return Z}),n.d(o,"provinceCities",function(){return tt}),n.d(o,"allCuws",function(){return et}),n.d(o,"companyCuwCategories",function(){return nt}),n.d(o,"currentCompanyCuwCategoryId",function(){return ot}),n.d(o,"companyCuws",function(){return it}),n.d(o,"fingerPrints",function(){return at}),n.d(o,"userTags",function(){return st}),n.d(o,"robotCategories",function(){return ct}),n.d(o,"robotAnswers",function(){return rt}),n.d(o,"robotSynonyms",function(){return ut}),n.d(o,"taboos",function(){return lt}),n.d(o,"supportCategories",function(){return _t}),n.d(o,"supportArticles",function(){return dt}),n.d(o,"supportComments",function(){return ft}),n.d(o,"roles",function(){return Et}),n.d(o,"webs",function(){return Tt}),n.d(o,"apps",function(){return pt}),n.d(o,"mps",function(){return mt}),n.d(o,"minis",function(){return gt}),n.d(o,"connectionStatus",function(){return It}),n.d(o,"showAuthority",function(){return St}),n.d(o,"mainHost",function(){return ht}),n.d(o,"contacts",function(){return Ot}),n.d(o,"layimMine",function(){return Nt}),n.d(o,"layimFriends",function(){return Ct}),n.d(o,"layimGroups",function(){return Rt});var i={};n.r(i),n.d(i,"updatePassportToken",function(){return na}),n.d(i,"init",function(){return oa}),n.d(i,"updateProfile",function(){return ia}),n.d(i,"updateAutoReply",function(){return aa}),n.d(i,"setAcceptStatus",function(){return sa}),n.d(i,"updateCurrentThread",function(){return ca}),n.d(i,"updateChatType",function(){return ra}),n.d(i,"getMessages",function(){return ua}),n.d(i,"getHistoryMessages",function(){return la}),n.d(i,"filterMessage",function(){return _a}),n.d(i,"getRates",function(){return da}),n.d(i,"filterRate",function(){return fa}),n.d(i,"inviteRate",function(){return Ea}),n.d(i,"getLeaveMessages",function(){return Ta}),n.d(i,"replyLeaveMessage",function(){return pa}),n.d(i,"filterLeaveMessage",function(){return ma}),n.d(i,"getHistoryStatus",function(){return ga}),n.d(i,"filterStatus",function(){return Ia}),n.d(i,"closeThread",function(){return Sa}),n.d(i,"getTags",function(){return ha}),n.d(i,"createTag",function(){return Oa}),n.d(i,"deleteTag",function(){return Na}),n.d(i,"transferAccept",function(){return Ca}),n.d(i,"transferAccepted",function(){return Ra}),n.d(i,"inviteAccept",function(){return Aa}),n.d(i,"getThread",function(){return va}),n.d(i,"getQueue",function(){return ba}),n.d(i,"acceptQueue",function(){return Ua}),n.d(i,"getBrowse",function(){return Pa}),n.d(i,"getHistoryThread",function(){return ka}),n.d(i,"filterHistoryThread",function(){return ya}),n.d(i,"getMonitor",function(){return wa}),n.d(i,"getQuality",function(){return Da}),n.d(i,"getCuws",function(){return Ma}),n.d(i,"getChildrenCuws",function(){return Ga}),n.d(i,"cuwCreate",function(){return Ba}),n.d(i,"cuwUpdate",function(){return La}),n.d(i,"cuwDelete",function(){return Fa}),n.d(i,"fingerPrint",function(){return Va}),n.d(i,"setNote",function(){return xa}),n.d(i,"userTag",function(){return ja}),n.d(i,"getRoles",function(){return Ya}),n.d(i,"getContacts",function(){return Ha}),n.d(i,"getAgents",function(){return Wa}),n.d(i,"getWorkGroupMembers",function(){return $a}),n.d(i,"getOnlineAgents",function(){return za}),n.d(i,"filterAgents",function(){return qa}),n.d(i,"createAgent",function(){return Ka}),n.d(i,"updateAgent",function(){return Ja}),n.d(i,"deleteAgent",function(){return Xa}),n.d(i,"getWorkGroups",function(){return Qa}),n.d(i,"getAllWorkGroups",function(){return Za}),n.d(i,"filterWorkGroups",function(){return ts}),n.d(i,"createWorkgroup",function(){return es}),n.d(i,"updateWorkgroup",function(){return ns}),n.d(i,"deleteWorkgroup",function(){return os}),n.d(i,"getWebs",function(){return is}),n.d(i,"createWeb",function(){return as}),n.d(i,"updateWeb",function(){return ss}),n.d(i,"deleteWeb",function(){return cs}),n.d(i,"getApps",function(){return rs}),n.d(i,"createApp",function(){return us}),n.d(i,"updateApp",function(){return ls}),n.d(i,"deleteApp",function(){return _s}),n.d(i,"getMps",function(){return ds}),n.d(i,"createMp",function(){return fs}),n.d(i,"updateMp",function(){return Es}),n.d(i,"deleteMp",function(){return Ts}),n.d(i,"getMinis",function(){return ps}),n.d(i,"createMini",function(){return ms}),n.d(i,"updateMini",function(){return gs}),n.d(i,"deleteMini",function(){return Is}),n.d(i,"getStatistics",function(){return Ss}),n.d(i,"getStatisticDetails",function(){return hs}),n.d(i,"filterStatisticDetail",function(){return Os}),n.d(i,"getStatisticThread",function(){return Ns}),n.d(i,"getStatisticRate",function(){return Cs}),n.d(i,"getCategories",function(){return Rs}),n.d(i,"createCategory",function(){return As}),n.d(i,"updateCategory",function(){return vs}),n.d(i,"deleteCategory",function(){return bs}),n.d(i,"getRobotAnswers",function(){return Us}),n.d(i,"createRobotAnswer",function(){return Ps}),n.d(i,"updateRobotAnswer",function(){return ks}),n.d(i,"deleteRobotAnswer",function(){return ys}),n.d(i,"getRobotSynonyms",function(){return ws}),n.d(i,"createRobotSynonym",function(){return Ds}),n.d(i,"updateRobotSynonym",function(){return Ms}),n.d(i,"deleteRobotSynonym",function(){return Gs}),n.d(i,"getTaboos",function(){return Bs}),n.d(i,"createTaboo",function(){return Ls}),n.d(i,"updateTaboo",function(){return Fs}),n.d(i,"deleteTaboo",function(){return Vs}),n.d(i,"getSupportArticles",function(){return xs}),n.d(i,"createSupportArticle",function(){return js}),n.d(i,"updateSupportArticle",function(){return Ys}),n.d(i,"deleteSupportArticle",function(){return Hs}),n.d(i,"applyTry",function(){return Ws}),n.d(i,"filterCompanies",function(){return $s}),n.d(i,"getRegions",function(){return zs}),n.d(i,"getCompanies",function(){return qs}),n.d(i,"createCompany",function(){return Ks}),n.d(i,"updateCompany",function(){return Js}),n.d(i,"deleteCompany",function(){return Xs}),n.d(i,"getBlocks",function(){return Qs}),n.d(i,"addBlock",function(){return Zs}),n.d(i,"removeBlock",function(){return tc}),n.d(i,"getGroups",function(){return ec}),n.d(i,"getGroupMembers",function(){return nc}),n.d(i,"createGroup",function(){return oc}),n.d(i,"updateGroupNickname",function(){return ic}),n.d(i,"updateGroupAnnouncement",function(){return ac}),n.d(i,"updateGroupDescription",function(){return sc}),n.d(i,"kickGroupMember",function(){return cc}),n.d(i,"muteGroupMember",function(){return rc}),n.d(i,"dismissGroup",function(){return uc}),n.d(i,"filterGroup",function(){return lc}),n.d(i,"clearToken",function(){return _c}),n.d(i,"logout",function(){return dc}),n.d(i,"changeCurrentMainView",function(){return fc}),n.d(i,"stompConnect",function(){return Ec}),n.d(i,"stompReConnect",function(){return Tc}),n.d(i,"sendTextMessage",function(){return pc}),n.d(i,"sendImageMessage",function(){return mc}),n.d(i,"sendFileMessage",function(){return gc}),n.d(i,"sendOtherMessage",function(){return Ic}),n.d(i,"sendPreviewMessage",function(){return Sc}),n.d(i,"sendReceiptMessage",function(){return hc}),n.d(i,"sendIceCandidateMessage",function(){return Oc}),n.d(i,"sendSessionDescriptionMessage",function(){return Nc}),n.d(i,"sendContactTextMessage",function(){return Cc}),n.d(i,"sendContactImageMessage",function(){return Rc}),n.d(i,"sendContactFileMessage",function(){return Ac}),n.d(i,"sendContactCustomMessage",function(){return vc}),n.d(i,"sendGroupTextMessage",function(){return bc}),n.d(i,"sendGroupImageMessage",function(){return Uc}),n.d(i,"sendGroupFileMessage",function(){return Pc}),n.d(i,"sendGroupCustomMessage",function(){return kc}),n.d(i,"sendThreadTextMessageSync",function(){return yc}),n.d(i,"sendThreadImageMessageSync",function(){return wc}),n.d(i,"sendMessageSync",function(){return Dc}),n.d(i,"subscribeTopic",function(){return Mc}),n.d(i,"unsubscribeTopic",function(){return Gc}),n.d(i,"subscribeQueue",function(){return Bc}),n.d(i,"stompDisconnect",function(){return Lc});n("cadf"),n("551c"),n("097d"),n("73d3");var a=n("a026"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],r={name:"app"},u=r,l=(n("034f"),n("2877")),_=Object(l["a"])(u,s,c,!1,null,null,null);_.options.__file="App.vue";var d=_.exports,f=n("8c4f"),E=n("2f62"),T=(n("28a5"),n("7f7f"),n("55dd"),{DEFAULT_TITLE:"萝卜丝",HTTP_CLIENT:"web",IS_ELECTRON:!1,IS_PRODUCTION:!0,IS_PRIVATE_SERVER:!1,PRIVATE_SERVER_UID:"",IS_DAXUEZHANG:!1,IS_IP:!1,HTTP_PREFIX:"https://",SHOW_STATISTIC:!0,SHOW_SUPPORT:!0,SHOW_FEEDBACK:!0,ADMIN_URL:"/admin#/admin",LOGIN_URL:"/admin#/login",CHAT_BASE_URL:"/chat",ADMIN_BASE_URL:"https://www.bytedesk.com/admin#",HOME_URL:"https://www.bytedesk.com",HELP_URL:"https://support.bytedesk.com/support?uid=201808221551193",HELP_BASE_URL:"https://support.bytedesk.com/support/article?uid=201808221551193&aid=",SOCKJS_WEBSOCKET_ENDPOINT:"https://stomp.bytedesk.com/stomp/?access_token=",WECHAT_OPEN_PLATFORM_REDIRECT_URI:"https://wechat.bytedesk.com/redirect/",PRIVATE_SERVER_VALIDATE_URL:"https://api.bytedesk.com/visitor/api/server/validate",AXIOS_DEFAULT_BASEURL:"/",SHOW_IM:!0,UPLOAD_AVATAR_URL:"https://upload.bytedesk.com/visitor/api/upload/avatar",UPLOAD_IMAGE_URL:"https://upload.bytedesk.com/visitor/api/upload/image",UPLOAD_FILE_URL:"https://upload.bytedesk.com/visitor/api/upload/file",UPLOAD_LAYIM_IMAGE_URL:"https://upload.bytedesk.com/visitor/api/upload/layim/image",UPLOAD_LAYIM_FILE_URL:"https://upload.bytedesk.com/visitor/api/upload/layim/file",UPLOAD_WECHAT_IMAGE_URL:"https://upload.bytedesk.com/visitor/api/upload/wechat/image",UPLOAD_WECHAT_VOICE_URL:"https://upload.bytedesk.com/visitor/api/upload/wechat/voice",UPLOAD_WECHAT_VIDEO_URL:"https://upload.bytedesk.com/visitor/api/upload/wechat/video",UPLOAD_WECHAT_THUMB_URL:"https://upload.bytedesk.com/visitor/api/upload/wechat/thumb"}),p={DEFAULT_TITLE:T.DEFAULT_TITLE,HTTP_CLIENT:T.HTTP_CLIENT,IS_ELECTRON:T.IS_ELECTRON,IS_PRODUCTION:T.IS_PRODUCTION,IS_PRIVATE_SERVER:T.IS_PRIVATE_SERVER,PRIVATE_SERVER_UID:T.PRIVATE_SERVER_UID,IS_DAXUEZHANG:T.IS_DAXUEZHANG,IS_IP:T.IS_IP,HTTP_PREFIX:T.HTTP_PREFIX,SHOW_STATISTIC:T.SHOW_STATISTIC,SHOW_SUPPORT:T.SHOW_SUPPORT,SHOW_FEEDBACK:T.SHOW_FEEDBACK,ADMIN_URL:T.ADMIN_URL,LOGIN_URL:T.LOGIN_URL,CHAT_BASE_URL:T.CHAT_BASE_URL,ADMIN_BASE_URL:T.ADMIN_BASE_URL,HOME_URL:T.HOME_URL,HELP_URL:T.HELP_URL,HELP_BASE_URL:T.HELP_BASE_URL,SOCKJS_WEBSOCKET_ENDPOINT:T.SOCKJS_WEBSOCKET_ENDPOINT,WECHAT_OPEN_PLATFORM_REDIRECT_URI:T.WECHAT_OPEN_PLATFORM_REDIRECT_URI,PRIVATE_SERVER_VALIDATE_URL:T.PRIVATE_SERVER_VALIDATE_URL,AXIOS_DEFAULT_BASEURL:T.AXIOS_DEFAULT_BASEURL,SHOW_IM:T.SHOW_IM,UPLOAD_AVATAR_URL:T.UPLOAD_AVATAR_URL,UPLOAD_IMAGE_URL:T.UPLOAD_IMAGE_URL,UPLOAD_FILE_URL:T.UPLOAD_FILE_URL,UPLOAD_LAYIM_IMAGE_URL:T.UPLOAD_LAYIM_IMAGE_URL,UPLOAD_LAYIM_FILE_URL:T.UPLOAD_LAYIM_FILE_URL,UPLOAD_WECHAT_IMAGE_URL:T.UPLOAD_WECHAT_IMAGE_URL,UPLOAD_WECHAT_VOICE_URL:T.UPLOAD_WECHAT_VOICE_URL,UPLOAD_WECHAT_VIDEO_URL:T.UPLOAD_WECHAT_VIDEO_URL,UPLOAD_WECHAT_THUMB_URL:T.UPLOAD_WECHAT_THUMB_URL,LEFT_SIDEBAR_WIDTH:"65px",STOMP_CONNECTION_STATUS_CONNECTING:"connecting",STOMP_CONNECTION_STATUS_CONNECTED:"connected",STOMP_CONNECTION_STATUS_DISCONNECTED:"disconnncted",DOWNLOAD_URL:"https://www.bytedesk.com/download",CHAT_URL:"https://vip.bytedesk.com/chatvue?uid=201808221551193&wid=201807171659201&type=workGroup&aid=&ph=ph",ICON_URL:"https://cdn.bytedesk.com/assets/icon/64.png",VOICE_PLAYER_BASE_URL:"https://wuxieyun.com/opencore-amr-js/js/index.php?url=",SOUND_DINGDONG_URL:"https://cdn.bytedesk.com/assets/sound/dingdong.wav",EMOJI_BASE_URL:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/emojis/gif/",CONNECTING_IMAGE:"https://bytedesk.oss-cn-shenzhen.aliyuncs.com/util/connecting.gif",CONNCTED_IMAGE:"https://bytedesk.oss-cn-shenzhen.aliyuncs.com/util/connected.png",DISCONNECTED_IMAGE:"https://bytedesk.oss-cn-shenzhen.aliyuncs.com/util/disconnected.png",DEFAULT_AVATAR:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/agent_default_avatar.png",DEFAULT_WORKGROUP_AVATAR:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/workgroup_default_avatar.png",DEFAULT_WEB_AVATAR_URL:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/chrome_default_avatar.png",DEFAULT_ANDROID_AVATAR_URL:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/android_default_avatar.png",DEFAULT_IOS_AVATAR_URL:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/apple_default_avatar.png",WECHAT_MINI_REDIS_CHANNEL:"wechat_mini_redis_message",WECHAT_MINI_QUEUE_CHANNEL:"wechat_mini_queue",WECHAT_MINI_MESSAGE_CHANNEL:"wechat_mini_message",WECHAT_MP_REDIS_CHANNEL:"wechat_mp_redis_message",WECHAT_MP_QUEUE_CHANNEL:"wechat_mp_queue",WECHAT_MP_MESSAGE_CHANNEL:"wechat_mp_message",MESSAGE_TYPE_TEXT:"text",MESSAGE_TYPE_IMAGE:"image",MESSAGE_TYPE_FILE:"file",MESSAGE_TYPE_VOICE:"voice",MESSAGE_TYPE_VIDEO:"video",MESSAGE_TYPE_CUSTOM:"custom",MESSAGE_TYPE_SHORT_VIDEO:"shortvideo",MESSAGE_TYPE_LOCATION:"location",MESSAGE_TYPE_LINK:"link",MESSAGE_TYPE_EVENT:"event",MESSAGE_TYPE_ROBOT:"robot",MESSAGE_TYPE_QUESTIONNAIRE:"questionnaire",MESSAGE_TYPE_COMPANY:"company",MESSAGE_TYPE_WORK_GROUP:"workGroup",MESSAGE_TYPE_NOTIFICATION:"notification",MESSAGE_TYPE_NOTIFICATION_NON_WORKING_TIME:"notification_non_working_time",MESSAGE_TYPE_NOTIFICATION_OFFLINE:"notification_offline",MESSAGE_TYPE_NOTIFICATION_BROWSE_START:"notification_browse_start",MESSAGE_TYPE_NOTIFICATION_BROWSE_END:"notification_browse_end",MESSAGE_TYPE_NOTIFICATION_BROWSE_INVITE:"notification_browse_invite",MESSAGE_TYPE_NOTIFICATION_BROWSE_INVITE_ACCEPT:"notification_browse_invite_accept",MESSAGE_TYPE_NOTIFICATION_BROWSE_INVITE_REJECT:"notification_browse_invite_reject",MESSAGE_TYPE_NOTIFICATION_THREAD:"notification_thread",MESSAGE_TYPE_NOTIFICATION_THREAD_REENTRY:"notification_thread_reentry",MESSAGE_TYPE_NOTIFICATION_QUEUE:"notification_queue",MESSAGE_TYPE_NOTIFICATION_QUEUE_LEAVE:"notification_queue_leave",MESSAGE_TYPE_NOTIFICATION_QUEUE_ACCEPT:"notification_queue_accept",MESSAGE_TYPE_NOTIFICATION_ACCEPT_AUTO:"notification_accept_auto",MESSAGE_TYPE_NOTIFICATION_ACCEPT_MANUAL:"notification_accept_manual",MESSAGE_TYPE_NOTIFICATION_CONNECT:"notification_connect",MESSAGE_TYPE_NOTIFICATION_DISCONNECT:"notification_disconnect",MESSAGE_TYPE_NOTIFICATION_LEAVE:"notification_leave",MESSAGE_TYPE_NOTIFICATION_AGENT_CLOSE:"notification_agent_close",MESSAGE_TYPE_NOTIFICATION_VISITOR_CLOSE:"notification_visitor_close",MESSAGE_TYPE_NOTIFICATION_AUTO_CLOSE:"notification_auto_close",MESSAGE_TYPE_NOTIFICATION_INVITE_RATE:"notification_invite_rate",MESSAGE_TYPE_NOTIFICATION_RATE_RESULT:"notification_rate_result",MESSAGE_TYPE_NOTIFICATION_INVITE:"notification_invite",MESSAGE_TYPE_NOTIFICATION_INVITE_ACCEPT:"notification_invite_accept",MESSAGE_TYPE_NOTIFICATION_INVITE_REJECT:"notification_invite_reject",MESSAGE_TYPE_NOTIFICATION_TRANSFER:"notification_transfer",MESSAGE_TYPE_NOTIFICATION_TRANSFER_ACCEPT:"notification_transfer_accept",MESSAGE_TYPE_NOTIFICATION_TRANSFER_REJECT:"notification_transfer_reject",MESSAGE_TYPE_NOTIFICATION_RATE_REQUEST:"notification_rate_request",MESSAGE_TYPE_NOTIFICATION_RATE:"notification_rate",MESSAGE_TYPE_NOTIFICATION_CONNECTION_STATUS:"notification_connection_status",MESSAGE_TYPE_NOTIFICATION_ACCEPT_STATUS:"notification_accept_status",MESSAGE_TYPE_NOTIFICATION_PREVIEW:"notification_preview",MESSAGE_TYPE_NOTIFICATION_RECEIPT:"notification_receipt",MESSAGE_TYPE_NOTIFICATION_KICKOFF:"notification_kickoff",MESSAGE_TYPE_NOTIFICATION_WEBRTC_INVITE:"notification_webrtc_invite",MESSAGE_TYPE_NOTIFICATION_WEBRTC_CANCEL:"notification_webrtc_cancel",MESSAGE_TYPE_NOTIFICATION_WEBRTC_OFFER_VIDEO:"notification_webrtc_offer_video",MESSAGE_TYPE_NOTIFICATION_WEBRTC_OFFER_AUDIO:"notification_webrtc_offer_audio",MESSAGE_TYPE_NOTIFICATION_WEBRTC_ANSWER:"notification_webrtc_answer",MESSAGE_TYPE_NOTIFICATION_WEBRTC_CANDIDATE:"notification_webrtc_candidate",MESSAGE_TYPE_NOTIFICATION_WEBRTC_ACCEPT:"notification_webrtc_accept",MESSAGE_TYPE_NOTIFICATION_WEBRTC_REJECT:"notification_webrtc_reject",MESSAGE_TYPE_NOTIFICATION_WEBRTC_READY:"notification_webrtc_ready",MESSAGE_TYPE_NOTIFICATION_WEBRTC_BUSY:"notification_webrtc_busy",MESSAGE_TYPE_NOTIFICATION_WEBRTC_CLOSE:"notification_webrtc_close",MESSAGE_TYPE_NOTIFICATION_GROUP_CREATE:"notification_group_create",MESSAGE_TYPE_NOTIFICATION_GROUP_UPDATE:"notification_group_update",MESSAGE_TYPE_NOTIFICATION_GROUP_ANNOUNCEMENT:"notification_group_announcement",MESSAGE_TYPE_NOTIFICATION_GROUP_INVITE:"notification_group_invite",MESSAGE_TYPE_NOTIFICATION_GROUP_INVITE_ACCEPT:"notification_group_invite_accept",MESSAGE_TYPE_NOTIFICATION_GROUP_INVITE_REJECT:"notification_group_invite_reject",MESSAGE_TYPE_NOTIFICATION_GROUP_JOIN:"notification_group_join",MESSAGE_TYPE_NOTIFICATION_GROUP_APPLY:"notification_group_apply",MESSAGE_TYPE_NOTIFICATION_GROUP_APPLY_APPROVE:"notification_group_apply_approve",MESSAGE_TYPE_NOTIFICATION_GROUP_APPLY_DENY:"notification_group_apply_deny",MESSAGE_TYPE_NOTIFICATION_GROUP_KICK:"notification_group_kick",MESSAGE_TYPE_NOTIFICATION_GROUP_MUTE:"notification_group_mute",MESSAGE_TYPE_NOTIFICATION_GROUP_TRANSFER:"notification_group_transfer",MESSAGE_TYPE_NOTIFICATION_GROUP_TRANSFER_ACCEPT:"notification_group_transfer_accept",MESSAGE_TYPE_NOTIFICATION_GROUP_TRANSFER_REJECT:"notification_group_transfer_reject",MESSAGE_TYPE_NOTIFICATION_GROUP_WITHDRAW:"notification_group_withdraw",MESSAGE_TYPE_NOTIFICATION_GROUP_DISMISS:"notification_group_dismiss",THREAD_TYPE_THREAD:"thread",THREAD_TYPE_APPOINTED:"appointed",THREAD_TYPE_CONTACT:"contact",THREAD_TYPE_GROUP:"group",MESSAGE_SESSION_TYPE_THREAD:"thread",MESSAGE_SESSION_TYPE_CONTACT:"contact",MESSAGE_SESSION_TYPE_GROUP:"group",CLIENT_WEB:"web",CLIENT_WAP:"wap",CLIENT_WEIXIN:"weixin",CLIENT_FLOAT:"float",CLIENT_ANDROID:"android",CLIENT_IOS:"ios",CLIENT_WECHAT_MP:"wechat_mp",CLIENT_WECHAT_URL:"wechat_url",CLIENT_WECHAT_MINI:"wechat_mini",CLIENT_WINDOW_ADMIN:"window_admin",CLIENT_MAC_ADMIN:"mac_admin",CLIENT_ANDROID_ADMIN:"android_admin",CLIENT_IOS_ADMIN:"ios_admin",CLIENT_WEB_ADMIN:"web_admin",CLIENT_WECHAT_MINI_ADMIN:"wechat_mini_admin",MESSAGE_STATUS_SENDING:"sending",MESSAGE_STATUS_RECEIVED:"received",MESSAGE_STATUS_READ:"read",MESSAGE_STATUS_STORED:"stored",MESSAGE_STATUS_ERROR:"error",USER_STATUS_CONNECTED:"connected",USER_STATUS_DISCONNECTED:"disconnected",USER_STATUS_ONLINE:"online",USER_STATUS_OFFLINE:"offline",USER_STATUS_BUSY:"busy",USER_STATUS_AWAY:"away",USER_STATUS_LOGOUT:"logout",USER_STATUS_LOGIN:"login",USER_STATUS_LEAVE:"leave",USER_STATUS_AFTER:"after",USER_STATUS_EAT:"eat",USER_STATUS_REST:"rest",ROLE_SUPER:"ROLE_SUPER",ROLE_ADMIN:"ROLE_ADMIN",ROLE_VIP:"ROLE_VIP",ROLE_TRY:"ROLE_TRY",ROLE_PROXY:"ROLE_PROXY",ROLE_FREE:"ROLE_FREE",ROLE_VISITOR:"ROLE_VISITOR",ROLE_MEMBER:"ROLE_MEMBER",ROLE_ROBOT:"ROLE_ROBOT",ROLE_WORKGROUP_ADMIN:"ROLE_WORKGROUP_ADMIN",ROLE_WORKGROUP_AGENT:"ROLE_WORKGROUP_AGENT",ROLE_WORKGROUP_CHECKER:"ROLE_WORKGROUP_CHECKER",AUTO_REPLY_NO:"无自动回复",AUTO_REPLY_EAT:"外出就餐，请稍后",AUTO_REPLY_LEAVE:"不在电脑旁，请稍后",AUTO_REPLY_BACK:"马上回来",AUTO_REPLY_PHONE:"接听电话中",AUTO_REPLY_SELF:"自定义",AUTHORITY_HOME:"home",AUTHORITY_STATISTIC:"statistic",AUTHORITY_CHAT:"chat",AUTHORITY_THREAD:"thread",AUTHORITY_VISITOR:"visitor",AUTHORITY_HISTORY:"history",AUTHORITY_MONITOR:"monitor",AUTHORITY_QUALITY:"quality",AUTHORITY_ADMIN:"admin",AUTHORITY_ROBOT:"robot",AUTHORITY_SUPPORT:"support",AUTHORITY_SETTING:"setting",AUTHORITY_FEEDBACK:"feedback",AUTHORITY_WORKORDER:"workorder",AUTHORITY_CALLCENTER:"callcenter",AUTHORITY_CRM:"crm",AUTHORITY_WENJUAN:"wenjuan",AUTHORITY_INTERNAL:"internal",USERNAME_NOTIFICATION:"bytedesk_notification",CUW_TYPE_COMPANY:"company",CUW_TYPE_MINE:"mine",CATEGORY_TYPE_ROBOT:"robot",CATEGORY_TYPE_SUPPORT:"support",CATEGORY_TYPE_CUW_MINE:"cuw_mine",CATEGORY_TYPE_CUW_COMPANY:"cuw_company",CATEGORY_TYPE_CUW_PLATFORM:"cuw_platform",QUESTIONNAIRE_ITEM_TYPE_RADIO:"radio",QUESTIONNAIRE_ITEM_TYPE_CHECKBOX:"checkbox",QUESTIONNAIRE_ITEM_TYPE_INPUT:"input",QUESTIONNAIRE_ITEM_TYPE_TEXTAREA:"textarea",EVENT_BUS_MESSAGE_HISTORY:"EVENT_BUS_MESSAGE_HISTORY",EVENT_BUS_SELECT_CUW:"EVENT_BUS_SELECT_CUW",EVENT_BUS_SELECT_THREAD:"EVENT_BUS_SELECT_THREAD",EVENT_BUS_NOTIFICATION_SUCCESS:"EVENT_BUS_NOTIFICATION_SUCCESS",EVENT_BUS_NOTIFICATION_WARNING:"EVENT_BUS_NOTIFICATION_WARNING",EVENT_BUS_NOTIFICATION_INFO:"EVENT_BUS_NOTIFICATION_INFO",EVENT_BUS_NOTIFICATION_ERROR:"EVENT_BUS_NOTIFICATION_ERROR",EVENT_BUS_NOTIFICATION_CONTACT_MESSAGE:"EVENT_BUS_NOTIFICATION_CONTACT_MESSAGE",EVENT_BUS_NOTIFICATION_GROUP_MESSAGE:"EVENT_BUS_NOTIFICATION_GROUP_MESSAGE",EVENT_BUS_NOTIFICATION_INVITE:"EVENT_BUS_NOTIFICATION_INVITE",EVENT_BUS_NOTIFICATION_BROWSE_START:"EVENT_BUS_NOTIFICATION_BROWSE_START",EVENT_BUS_NOTIFICATION_BROWSE_END:"EVENT_BUS_NOTIFICATION_BROWSE_END",EVENT_BUS_NOTIFICATION_INVITE_ACCEPT:"EVENT_BUS_NOTIFICATION_INVITE_ACCEPT",EVENT_BUS_NOTIFICATION_INVITE_REJECT:"EVENT_BUS_NOTIFICATION_INVITE_REJECT",EVENT_BUS_NOTIFICATION_TRANSFER:"EVENT_BUS_NOTIFICATION_TRANSFER",EVENT_BUS_NOTIFICATION_TRANSFER_ACCEPT:"EVENT_BUS_NOTIFICATION_TRANSFER_ACCEPT",EVENT_BUS_NOTIFICATION_TRANSFER_REJECT:"EVENT_BUS_NOTIFICATION_TRANSFER_REJECT",EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM:"EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM",EVENT_BUS_LOGIN_TIMEOUT:"EVENT_BUS_LOGIN_TIMEOUT",EVENT_BUS_LOGIN_ERROR_400:"EVENT_BUS_LOGIN_ERROR_400",EVENT_BUS_SERVER_ERROR_500:"EVENT_BUS_SERVER_ERROR_500",EVENT_BUS_SUPPORT_NEW_ARTICLE:"EVENT_BUS_SUPPORT_NEW_ARTICLE",EVENT_BUS_SUPPORT_NEW_ARTICLE_SUCCESS:"EVENT_BUS_SUPPORT_NEW_ARTICLE_SUCCESS",EVENT_BUS_SUPPORT_NEW_ARTICLE_ERROR:"EVENT_BUS_SUPPORT_NEW_ARTICLE_ERROR",EVENT_BUS_SUPPORT_EDIT_ARTICLE:"EVENT_BUS_SUPPORT_EDIT_ARTICLE",EVENT_BUS_SUPPORT_UPDATE_ARTICLE_SUCCESS:"EVENT_BUS_SUPPORT_UPDATE_ARTICLE_SUCCESS",EVENT_BUS_SUPPORT_UPDATE_ARTICLE_ERROR:"EVENT_BUS_SUPPORT_UPDATE_ARTICLE_ERROR",EVENT_BUS_SUPPORT_NEW_TICKET:"EVENT_BUS_SUPPORT_NEW_TICKET",EVENT_BUS_SUPPORT_NEW_TICKET_SUCCESS:"EVENT_BUS_SUPPORT_NEW_TICKET_SUCCESS",EVENT_BUS_SUPPORT_NEW_TICKET_ERROR:"EVENT_BUS_SUPPORT_NEW_TICKET_ERROR",EVENT_BUS_SUPPORT_EDIT_TICKET:"EVENT_BUS_SUPPORT_EDIT_TICKET",EVENT_BUS_SUPPORT_UPDATE_TICKET_SUCCESS:"EVENT_BUS_SUPPORT_UPDATE_TICKET_SUCCESS",EVENT_BUS_SUPPORT_UPDATE_TICKET_ERROR:"EVENT_BUS_SUPPORT_UPDATE_TICKET_ERROR",EVENT_BUS_STATISTIC_DETAIL:"EVENT_BUS_STATISTIC_DETAIL",EVENT_BUS_AGENT_CODE:"EVENT_BUS_AGENT_CODE",EVENT_BUS_WORKGROUP_CODE:"EVENT_BUS_WORKGROUP_CODE",EVENT_BUS_MP_ADMIN:"EVENT_BUS_MP_ADMIN",EVENT_BUS_CONTACT_LOAD_FINISHED:"EVENT_BUS_CONTACT_LOAD_FINISHED",EVENT_BUS_AGENT_LOAD_FINISHED:"EVENT_BUS_AGENT_LOAD_FINISHED",EVENT_BUS_WORKGROUP_LOAD_FINISHIED:"EVENT_BUS_WORKGROUP_LOAD_FINISHIED",EVENT_BUS_COMPANY_LOAD_FINISHED:"EVENT_BUS_COMPANY_LOAD_FINISHED",EVENT_BUS_GROUP_ADDED:"EVENT_BUS_GROUP_ADDED",EVENT_BUS_NEW_QUESTIONNAIRE:"EVENT_BUS_NEW_QUESTIONNAIRE",EVENT_BUS_MESSAGE_PREVIEW:"EVENT_BUS_MESSAGE_PREVIEW",EVENT_BUS_MESSAGE_RECEIPT:"EVENT_BUS_MESSAGE_RECEIPT",EVENT_BUS_MESSAGE_WEBRTC_INVITE:"EVENT_BUS_MESSAGE_WEBRTC_INVITE",EVENT_BUS_MESSAGE_WEBRTC_CANCEL:"EVENT_BUS_MESSAGE_WEBRTC_CANCEL",EVENT_BUS_MESSAGE_WEBRTC_OFFER_VIDEO:"EVENT_BUS_MESSAGE_WEBRTC_OFFER_VIDEO",EVENT_BUS_MESSAGE_WEBRTC_OFFER_AUDIO:"EVENT_BUS_MESSAGE_WEBRTC_OFFER_AUDIO",EVENT_BUS_MESSAGE_WEBRTC_ANSWER:"EVENT_BUS_MESSAGE_WEBRTC_ANSWER",EVENT_BUS_MESSAGE_WEBRTC_CANDIDATE:"EVENT_BUS_MESSAGE_WEBRTC_CANDIDATE",EVENT_BUS_MESSAGE_WEBRTC_ACCEPT:"EVENT_BUS_MESSAGE_WEBRTC_ACCEPT",EVENT_BUS_MESSAGE_WEBRTC_REJECT:"EVENT_BUS_MESSAGE_WEBRTC_REJECT",EVENT_BUS_MESSAGE_WEBRTC_READY:"EVENT_BUS_MESSAGE_WEBRTC_READY",EVENT_BUS_MESSAGE_WEBRTC_BUSY:"EVENT_BUS_MESSAGE_WEBRTC_BUSY",EVENT_BUS_MESSAGE_WEBRTC_CLOSE:"EVENT_BUS_MESSAGE_WEBRTC_CLOSE",EVENT_BUS_STOMP_CONNECTION_STATUS:"EVENT_BUS_STOMP_CONNECTION_STATUS",EVENT_BUS_LOGOUT:"EVENT_BUS_LOGOUT"},m=function(t){return!!localStorage.access_token||t.passport.token.access_token.length>0},g=function(t){return t.passport.token.access_token},I=function(t){return t.user.info},S=function(t){return t.user.info.acceptStatus},h=function(t){return t.user.threads},O=function(t){return t.user.threads.filter(function(t){return!t.closed})},N=function(t){return t.user.threads.filter(function(t){return t.closed})},C=function(t){return t.user.current_chat_type},R=function(t){return t.user.current_thread},A=function(t){return t.user.queues},v=function(t){return t.user.current_contact},b=function(t){return t.user.current_group},U=function(t){return t.user.browses},P=function(t){return t.user.contacts},k=function(t){return t.user.groups},y=function(t){var e=t.user.messages.filter(function(e){return t.user.current_thread.type===p.MESSAGE_SESSION_TYPE_THREAD?null!==e.thread.visitor&&e.thread.visitor.uid===t.user.current_thread.visitor.uid:t.user.current_thread.type===p.MESSAGE_SESSION_TYPE_CONTACT?null!==e.thread.contact&&e.thread.contact.uid===t.user.current_thread.contact.uid:t.user.current_thread.type===p.MESSAGE_SESSION_TYPE_GROUP?null!==e.thread.group&&e.thread.group.gid===t.user.current_thread.group.gid:void 0});return e.sort(function(t,e){return t.id>e.id?1:t.id<e.id?-1:0})},w=function(t){return t.statistic},D=function(t){return t.statistic.threads},M=function(t){return t.statistic.rates},G=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<t.statistic.statistic_list.length;n++){var o=t.statistic.statistic_list[n];e[o.hour]=o.currentThreadCount}return e},B=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<t.statistic.statistic_list.length;n++){var o=t.statistic.statistic_list[n];e[o.hour]=o.queuingCount}return e},L=function(t){return t.histories},F=function(t){return t.rates},V=function(t){return t.messages},x=function(t){return t.leaveMessages},j=function(t){return t.statuses},Y=function(t){return t.queues},H=function(t){return t.browses},W=function(t){return t.monitors},$=function(t){return t.qualities},z=function(t){return t.agents},q=function(t){return t.online_agents},K=function(t){return t.workGroups},J=function(t){return t.filter.workGroups},X=function(t){return t.filter.workGroupMembers},Q=function(t){return t.companies},Z=function(t){for(var e=[],n=0;n<t.regions.provinces.length;n++){var o=t.regions.provinces[n];e.push({value:o.name,object:o})}for(var i=0;i<t.regions.cities.length;i++){var a=t.regions.cities[i];e.push({value:a.parent.name+a.name,object:a})}return e},tt=function(t){for(var e=[],n=0;n<t.regions.cities.length;n++){for(var o=t.regions.cities[n],i=!1,a=0;a<e.length;a++){var s=e[a];o.parent.code===s.value&&(e[a].children.push({value:o.code,label:o.name}),i=!0)}i||e.push({value:o.parent.code,label:o.parent.name,children:[{value:o.code,label:o.name}]})}return e},et=function(t){return t.cuws},nt=function(t){var e=t.categories.filter(function(t){return t.type===p.CATEGORY_TYPE_CUW_COMPANY});return e.unshift({id:0,name:"全部分组",cuwChildren:[],type:p.CATEGORY_TYPE_CUW_COMPANY}),e},ot=function(t){return t.current_company_cuw_category_id},it=function(t){var e=[];if(0===t.current_company_cuw_category_id)for(var n=0;n<t.cuws[1].cuwChildren.length;n++)for(var o=t.cuws[1].cuwChildren[n],i=0;i<o.cuwChildren.length;i++){var a=o.cuwChildren[i];e.push(a)}else for(var s=0;s<t.cuws[1].cuwChildren.length;s++){var c=t.cuws[1].cuwChildren[s];if(c.id===t.current_company_cuw_category_id)for(var r=0;r<c.cuwChildren.length;r++){var u=c.cuwChildren[r];e.push(u)}}return e},at=function(t){return t.user.fingerPrints},st=function(t){return t.user.userTags},ct=function(t){var e=t.categories.filter(function(t){return t.type===p.CATEGORY_TYPE_ROBOT});return e.unshift({id:0,name:"全部类别",type:p.CATEGORY_TYPE_ROBOT}),e},rt=function(t){return t.robot.answers},ut=function(t){return t.robot.synonyms},lt=function(t){return t.taboos},_t=function(t){var e=t.categories.filter(function(t){return t.type===p.CATEGORY_TYPE_SUPPORT});return e.unshift({id:0,name:"全部分类",type:p.CATEGORY_TYPE_SUPPORT}),e},dt=function(t){return t.support.articles},ft=function(t){return t.support.comments},Et=function(t){var e=t.roles.filter(function(t){return t.value!==p.ROLE_WORKGROUP_CHECKER});return e},Tt=function(t){return t.webs},pt=function(t){return t.apps},mt=function(t){return t.mps},gt=function(t){return t.minis},It=function(t){return t.user.settings.connection_status},St=function(t){return t.user.show_authority},ht=function(t){return document.domain.split(".").slice(-2).join(".")+("8081"===location.port?":8081":"")},Ot=function(t){return t.user.contacts.filter(function(e){return e.uid!==t.user.info.uid&&!e.robot})},Nt=function(t){return{id:t.user.info.uid,username:t.user.info.realName,status:"online",sign:t.user.info.description,avatar:t.user.info.avatar}},Ct=function(t){for(var e=[{id:"1",groupname:"同事",list:[]},{id:"2",groupname:"陌生人",list:[]}],n=0;n<t.user.contacts.length;n++){var o=t.user.contacts[n];e[0].list.push({id:o.uid,username:o.realName,sign:o.description,avatar:o.avatar,status:"offline"})}return e},Rt=function(t){for(var e=[],n=0;n<t.user.groups.length;n++){var o=t.user.groups[n];e.push({id:o.gid,groupname:o.nickname,sign:o.description,avatar:o.avatar})}return e},At=n("f499"),vt=n.n(At),bt=(n("ac6a"),"INIT"),Ut="LOCALSTORAGE_PASSPORT_TOKEN_KEY",Pt="PERSIST_PASSPORT_TOKEN",kt="UPDATE_SHOW_AUTHORITY",yt="PERSIST_ACCEPT_STATUS",wt="PERSIST_AUTO_REPLY",Dt="PERSIST_USER_INFO",Mt="PERSIST_USER_QUEUES",Gt="ADD_USER_QUEUE",Bt="ACCEPT_USER_QUEUE",Lt="PERSIST_USER_THREADS",Ft="ADD_USER_THREAD",Vt="CLOSE_USER_THREAD",xt="REMOVE_USER_THREAD",jt="UPDATE_CURRENT_THREAD",Yt="CLEAR_CURRENT_THREAD",Ht="PERSIST_USER_CONTACTS",Wt="UPDATE_CURRENT_CONTACT",$t="UPDATE_CURRENT_GROUP",zt="UPDATE_CURRENT_CHAT_TYPE",qt="UPDATE_THREAD_CONTENT",Kt="PERSIST_USER_WORKGROUPS",Jt="ADD_USER_WORKGROUP",Xt="PERSIST_USER_GROUPS",Qt="ADD_USER_GROUP",Zt="PERSIST_USER_MESSAGES",te="ADD_USER_MESSAGE",ee="PERSIST_USER_BROWSES",ne="ADD_USER_BROWSE",oe="DELETE_USER_BROWSE",ie="UPDATE_USER_CONNECTION",ae="PERSIST_THREADS",se="PERSIST_HISTORIES",ce="PERSIST_RATES",re="PERSIST_STATUSES",ue="PERSIST_QUEUES",le="PERSIST_BROWSES",_e="PERSIST_MONITORS",de="PERSIST_QUALITIES",fe="PERSIST_CUWS",Ee="ADD_CUW",Te="UPDATE_CUW",pe="DELETE_CUW",me="UPDATE_COMPANY_CURRENT_CUW_CATEGORY_ID",ge="PERSIST_USER_FINGERPRINTS",Ie="ADD_USER_FINGERPRINT",Se="PERSIST_AGENTS",he="PERSIST_ONLINE_AGENTS",Oe="ADD_AGENT",Ne="UPDATE_AGENT",Ce="DELETE_AGENT",Re="PERSIST_WORKGROUPS",Ae="ADD_WORKGROUP",ve="UPDATE_WORKGROUP",be="DELETE_WORKGROUP",Ue="PERSIST_REGIONS",Pe="PERSIST_COMPANIES",ke="ADD_COMPANY",ye="UPDATE_COMPANY",we="DELETE_COMPANY",De="PERSIST_ROLES",Me="PERSIST_MESSAGES",Ge="UPDATE_LOAD_MESSAGE_PAGE",Be="PERSIST_USER_TAGS",Le="ADD_USER_TAG",Fe="DELETE_USER_TAG",Ve="PERSIST_CATEGORIES",xe="ADD_CATEGORY",je="UPDATE_CATEGORY",Ye="DELETE_CATEGORY",He="PERSIST_ROBOT_ANSWERS",We="ADD_ROBOT_ANSWER",$e="UPDATE_ROBOT_ANSWER",ze="DELETE_ROBOT_ANSWER",qe="PERSIST_ROBOT_SYNONYMS",Ke="UPDATE_ROBOT_SYNONYM",Je="ADD_ROBOT_SYNONYM",Xe="DELETE_ROBOT_SYNONYM",Qe="PERSIST_TABOOS",Ze="UPDATE_TABOO",tn="ADD_TABOO",en="DELETE_TABOO",nn="PERSIST_FILTER_WORKGROUPS",on="PERSIST_FILTER_WORKGROUP_MEMBERS",an="PERSIST_LEAVE_MESSAGES",sn="UPDATE_LEAVE_MESSAGE",cn="DELETE_LEAVE_MESSAGE",rn="PERSIST_SUPPORT_ARTICLES",un="ADD_SUPPORT_ARTICLE",ln="UPDATE_SUPPORT_ARTICLE",_n="DELETE_SUPPORT_ARTICLE",dn="PERSIST_STATISTICS",fn="PERSIST_STATISTIC_DETAILS",En="PERSIST_STATISTICS_THREADS",Tn="PERSIST_STATISTICS_RATES",pn="PERSIST_WEBS",mn="ADD_WEB",gn="UPDATE_WEB",In="DELETE_WEB",Sn="PERSIST_APPS",hn="ADD_APP",On="UPDATE_APP",Nn="DELETE_APP",Cn="PERSIST_MPS",Rn="ADD_MP",An="UPDATE_MP",vn="DELETE_MP",bn="PERSIST_MINIS",Un="ADD_MINI",Pn="UPDATE_MINI",kn="DELETE_MINI",yn="SUBSCRIBE_TOPIC",wn="UNSUBSCRIBE_TOPIC",Dn="CLEAR_TOPIC",Mn="LOGOUT",Gn="CHANGE_CURRENT_MAIN_VIEW",Bn=new a["default"];function Ln(t,e,n){axios.get("/visitor/api/email/validate",{params:{email:t}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function Fn(t,e,n){axios.get("/visitor/api/email/forget",{params:{email:t}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function Vn(t,e,n){axios.get("/visitor/api/email/code",{params:{email:t}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function xn(t,e,n){console.log("subdomain: ",t),axios.get("/visitor/api/sub_domain/validate",{params:{sub_domain:t}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function jn(t,e,n,o){axios.post("/visitor/api/register",{email:t,password:e}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Yn(t,e,n,o){axios({method:"post",url:"/oauth/token",params:{username:t,password:e,grant_type:"password",scope:"all"},auth:{username:"client",password:"secret"}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Hn(t,e,n,o){axios.post("/visitor/api/change",{email:t,password:e}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Wn(t,e,n,o,i,a,s,c,r,u,l){axios.post("/api/user/update/profile?access_token="+r,{username:t,password:e,nickname:n,avatar:o,mobile:i,email:a,description:s,welcomeTip:c}).then(function(t){u(t.data)}).catch(function(t){l(t)})}function $n(t,e,n,o,i){axios.post("/api/user/update/autoReply?access_token="+n,{isAutoReply:t,content:e}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function zn(t,e,n){axios.get("/api/user/init?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function qn(t,e,n,o){axios.post("/api/status/set?access_token="+e,{status:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Kn(t,e,n){axios.post("/api/user/logout?access_token="+t,{client:p.HTTP_CLIENT}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function Jn(t,e,n,o,i){axios.post("/api/thread/update/current?access_token="+n,{preTid:t,tid:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Xn(t,e,n,o,i,a){axios.get("/api/messages/user?access_token="+o,{params:{uid:t,page:e,size:n,client:p.HTTP_CLIENT}}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Qn(t,e,n,o,i){axios.get("/api/messages/request?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Zn(t,e,n,o,i,a,s,c,r,u,l){axios.get("/api/messages/filter?access_token="+r,{params:{page:t,size:e,nickname:n,createdAtStart:o,createdAtEnd:i,workGroupNickname:a,agentRealName:s,client:c}}).then(function(t){u(t.data)}).catch(function(t){l(t)})}function to(t,e,n,o,i,a,s,c){axios.post("/api/messages/send?access_token="+a,{tid:t,type:e,content:n,status:p.MESSAGE_STATUS_SENDING,localId:o,sessionType:i,client:p.HTTP_CLIENT}).then(function(t){s(t.data)}).catch(function(t){c(t)})}function eo(t,e,n,o,i){axios.get("/api/rate/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function no(t,e,n,o,i,a,s,c,r,u,l){axios.get("/api/rate/filter?access_token="+r,{params:{page:t,size:e,nickname:n,createdAtStart:o,createdAtEnd:i,workGroupNickname:a,agentRealName:s,client:c}}).then(function(t){u(t.data)}).catch(function(t){l(t)})}function oo(t,e,n,o){axios.post("/api/rate/invite?access_token="+e,{tid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function io(t,e,n,o,i){axios.get("/api/leavemsg/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ao(t,e,n,o,i,a){axios.post("/api/leavemsg/reply?access_token="+o,{lid:t,replied:e,reply:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function so(t,e,n,o,i,a,s,c,r,u,l){axios.get("/api/leavemsg/filter?access_token="+r,{params:{page:t,size:e,nickname:n,createdAtStart:o,createdAtEnd:i,workGroupNickname:a,agentRealName:s,client:c}}).then(function(t){u(t.data)}).catch(function(t){l(t)})}function co(t,e,n,o,i){axios.get("/api/status/request?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ro(t,e,n,o,i,a,s,c,r){axios.get("/api/status/filter?access_token="+s,{params:{page:t,size:e,createdAtStart:n,createdAtEnd:o,agentRealName:i,client:a}}).then(function(t){c(t.data)}).catch(function(t){r(t)})}function uo(t,e,n,o){axios.post("/api/thread/agent/close?access_token="+e,{tid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function lo(t,e,n){axios.get("/api/tag/get?access_token="+t,{params:{robot:!1,client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function _o(t,e,n,o){axios.get("/api/tag/create?access_token="+e,{params:{name:t,robot:!1,client:p.HTTP_CLIENT}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function fo(t,e,n,o){axios.get("/api/tag/delete?access_token="+e,{params:{id:t,client:p.HTTP_CLIENT}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Eo(t,e,n,o,i){axios.post("/api/thread/transfer?access_token="+n,{uid:t,tid:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function To(t,e,n,o,i){axios.post("/api/thread/invite?access_token="+n,{uids:t,tid:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function po(t,e,n){axios.get("/api/thread/get?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function mo(t,e,n,o,i){axios.get("/api/queue/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function go(t,e,n,o){axios.post("/api/queue/accept?access_token="+e,{qid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Io(t,e,n,o,i){axios.get("/api/browse/request?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function So(t,e,n,o,i){axios.get("/api/thread/history?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ho(t,e,n,o,i,a,s,c,r,u,l){axios.get("/api/thread/filter?access_token="+r,{params:{page:t,size:e,nickname:n,createdAtStart:o,createdAtEnd:i,workGroupNickname:a,agentRealName:s,client:c}}).then(function(t){u(t.data)}).catch(function(t){l(t)})}function Oo(t,e,n,o,i){axios.get("/api/thread/monitor?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function No(t,e,n,o,i){axios.get("/api/thread/quality?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Co(t,e,n){axios.get("/api/user/contacts?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function Ro(t,e,n,o,i){axios.get("/api/user/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Ao(t,e,n){axios.get("/api/user/workGroupMembers?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function vo(t,e,n,o,i){axios.get("/api/user/online?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function bo(t,e,n,o,i,a){axios.get("/api/user/filter?access_token="+o,{params:{page:t,size:e,realName:n,client:p.HTTP_CLIENT}}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Uo(t,e,n,o,i){axios.get("/api/workgroup/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Po(t,e,n){axios.get("/api/workgroup/all?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function ko(t,e,n,o,i,a){axios.get("/api/workgroup/filter?access_token="+o,{params:{page:t,size:e,nickname:n,client:p.HTTP_CLIENT}}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function yo(t,e,n){axios.get("/api/cuw/get?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function wo(t,e,n,o,i,a){axios.post("/api/cuw/create?access_token="+o,{categoryId:t,name:e,content:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Do(t,e,n,o,i,a){axios.post("/api/cuw/update?access_token="+o,{id:t,name:e,content:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Mo(t,e,n,o){axios.post("/api/cuw/delete?access_token="+e,{id:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Go(t,e,n,o){axios.get("/api/fingerprint2/get?access_token="+e,{params:{uid:t,client:p.HTTP_CLIENT}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Bo(t,e,n,o,i){axios.post("/api/fingerprint2/note?access_token="+n,{uid:t,value:e}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Lo(t,e,n,o){axios.get("/api/user/tag?access_token="+e,{params:{uid:t,client:p.HTTP_CLIENT}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Fo(t,e){axios.get("/visitor/api/roles",{params:{client:p.HTTP_CLIENT}}).then(function(e){t(e.data)}).catch(function(t){e(t)})}function Vo(t,e,n,o,i,a,s,c,r,u,l,_,d){axios.post("/api/user/create?access_token="+l,{username:t,password:e,email:n,avatar:o,realName:i,nickname:a,maxThreadCount:s,workGroups:c,role:r,enabled:u}).then(function(t){_(t.data)}).catch(function(t){d(t)})}function xo(t,e,n,o,i,a,s,c,r,u,l,_,d,f){axios.post("/api/user/update?access_token="+_,{id:t,username:e,password:n,email:o,avatar:i,realName:a,nickname:s,maxThreadCount:c,workGroups:r,role:u,enabled:l}).then(function(t){d(t.data)}).catch(function(t){f(t)})}function jo(t,e,n,o){axios.post("/api/user/delete?access_token="+e,{id:t}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Yo(t,e,n,o,i,a,s,c,r,u,l,_,d,f,E,T){axios.post("/api/workgroup/create?access_token="+f,{nickname:t,avatar:e,defaultRobot:n,offlineRobot:o,forceRate:i,routeType:a,welcomeTip:s,acceptTip:c,offlineTip:r,workTimes:u,users:l,onDutyWorkGroupWid:_,admin:d}).then(function(t){E(t.data)}).catch(function(t){T(t)})}function Ho(t,e,n,o,i,a,s,c,r,u,l,_,d,f,E,T,p){axios.post("/api/workgroup/update?access_token="+E,{id:t,nickname:e,avatar:n,defaultRobot:o,offlineRobot:i,forceRate:a,routeType:s,welcomeTip:c,acceptTip:r,offlineTip:u,workTimes:l,users:_,onDutyWorkGroupWid:d,admin:f}).then(function(t){T(t.data)}).catch(function(t){p(t)})}function Wo(t,e,n,o){axios.post("/api/workgroup/delete?access_token="+e,{id:t}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function $o(t,e,n,o,i,a){axios.get("/api/answer/get?access_token="+o,{params:{categoryId:t,page:e,size:n,client:p.HTTP_CLIENT}}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function zo(t,e,n,o,i,a,s){axios.post("/api/answer/create?access_token="+i,{question:t,relateds:e,answer:n,categories:o}).then(function(t){a(t.data)}).catch(function(t){s(t)})}function qo(t,e,n,o,i,a,s,c){axios.post("/api/answer/update?access_token="+a,{aid:t,question:e,relateds:n,answer:o,categories:i}).then(function(t){s(t.data)}).catch(function(t){c(t)})}function Ko(t,e,n,o){axios.post("/api/answer/delete?access_token="+e,{aid:t}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Jo(t,e,n,o,i){axios.get("/api/synonym/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Xo(t,e,n,o,i){axios.post("/api/synonym/create?access_token="+n,{standard:t,synonyms:e}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Qo(t,e,n,o,i,a){axios.post("/api/synonym/update?access_token="+o,{sid:t,standard:e,synonyms:n}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Zo(t,e,n,o){axios.post("/api/synonym/delete?access_token="+e,{sid:t}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function ti(t,e,n,o,i){axios.get("/api/app/webs?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ei(t,e,n,o,i,a){axios.post("/api/app/web/create?access_token="+o,{name:t,url:e,description:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function ni(t,e,n,o,i,a,s){axios.post("/api/app/web/update?access_token="+i,{aid:t,name:e,url:n,description:o,client:p.HTTP_CLIENT}).then(function(t){a(t.data)}).catch(function(t){s(t)})}function oi(t,e,n,o){axios.post("/api/app/web/delete?access_token="+e,{aid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function ii(t,e,n,o,i){axios.get("/api/app/apps?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ai(t,e,n,o,i,a,s,c,r,u,l){axios.post("/api/app/app/create?access_token="+r,{name:t,avatar:e,version:n,tip:o,url:i,status:a,platform:s,description:c,client:p.HTTP_CLIENT}).then(function(t){u(t.data)}).catch(function(t){l(t)})}function si(t,e,n,o,i,a,s,c,r,u,l,_){axios.post("/api/app/app/update?access_token="+u,{aid:t,name:e,avatar:n,version:o,tip:i,url:a,status:s,platform:c,description:r,client:p.HTTP_CLIENT}).then(function(t){l(t.data)}).catch(function(t){_(t)})}function ci(t,e,n,o){axios.post("/api/app/app/delete?access_token="+e,{aid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function ri(t,e,n,o,i){axios.get("/api/app/mps?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ui(t,e,n,o,i,a,s,c,r,u,l,_){axios.post("/api/app/mp/create?access_token="+u,{nickname:t,number:e,description:n,company:o,originalId:i,appId:a,appSecret:s,aesKey:c,encodeType:r,client:p.HTTP_CLIENT}).then(function(t){l(t.data)}).catch(function(t){_(t)})}function li(t,e,n,o,i,a,s,c,r,u,l,_,d){axios.post("/api/app/mp/update?access_token="+l,{wid:t,nickname:e,number:n,description:o,company:i,originalId:a,appId:s,appSecret:c,aesKey:r,encodeType:u,client:p.HTTP_CLIENT}).then(function(t){_(t.data)}).catch(function(t){d(t)})}function _i(t,e,n,o){axios.post("/api/app/mp/delete?access_token="+e,{wid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function di(t,e,n,o,i){axios.get("/api/app/minis?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function fi(t,e,n,o,i,a,s,c,r,u,l,_){axios.post("/api/app/mini/create?access_token="+u,{nickname:t,description:e,company:n,originalId:o,appId:i,appSecret:a,aesKey:s,encodeType:c,dataType:r,client:p.HTTP_CLIENT}).then(function(t){l(t.data)}).catch(function(t){_(t)})}function Ei(t,e,n,o,i,a,s,c,r,u,l,_,d){axios.post("/api/app/mini/update?access_token="+l,{wid:t,nickname:e,description:n,company:o,originalId:i,appId:a,appSecret:s,aesKey:c,encodeType:r,dataType:u,client:p.HTTP_CLIENT}).then(function(t){_(t.data)}).catch(function(t){d(t)})}function Ti(t,e,n,o){axios.post("/api/app/mini/delete?access_token="+e,{wid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function pi(t,e,n){axios.get("/api/statistic/all?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function mi(t,e,n,o,i){axios.get("/api/statistic/detail?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function gi(t,e,n,o,i,a,s){axios.get("/api/statistic/filter?access_token="+i,{params:{page:t,size:e,date:n,realName:o,client:p.HTTP_CLIENT}}).then(function(t){a(t.data)}).catch(function(t){s(t)})}function Ii(t,e,n,o,i){axios.get("/api/statistic/thread?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Si(t,e,n,o,i){axios.get("/api/statistic/rate?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function hi(t,e,n){axios.get("/api/category/get?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function Oi(t,e,n,o,i,a){axios.post("/api/category/create?access_token="+o,{parentId:t,name:e,type:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Ni(t,e,n,o,i){axios.post("/api/category/update?access_token="+n,{categoryId:t,name:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Ci(t,e,n,o){axios.post("/api/category/delete?access_token="+e,{categoryId:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Ri(t,e,n,o,i,a){axios.get("/api/article/get?access_token="+o,{params:{categoryId:t,page:e,size:n,client:p.HTTP_CLIENT}}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Ai(t,e,n,o,i,a,s,c){axios.post("/api/article/create?access_token="+a,{title:t,content:e,recommend:n,markdown:o,categories:i,client:p.HTTP_CLIENT}).then(function(t){s(t.data)}).catch(function(t){c(t)})}function vi(t,e,n,o,i,a,s,c,r){axios.post("/api/article/update?access_token="+s,{articleId:t,title:e,content:n,recommend:o,markdown:i,categories:a,client:p.HTTP_CLIENT}).then(function(t){c(t.data)}).catch(function(t){r(t)})}function bi(t,e,n,o){axios.post("/api/article/delete?access_token="+e,{articleId:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Ui(t,e,n,o){axios.post("/api/user/apply?access_token="+e,{mobile:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Pi(t,e,n,o,i,a){axios.get("/api/company/filter?access_token="+o,{params:{page:t,size:e,name:n,client:p.HTTP_CLIENT}}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function ki(t,e,n){axios.get("/api/region/get?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function yi(t,e,n,o,i){axios.get("/api/company/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function wi(t,e,n,o,i,a){axios.post("/api/company/create?access_token="+o,{name:t,description:e,regions:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Di(t,e,n,o,i,a,s){axios.post("/api/company/update?access_token="+i,{cid:t,name:e,description:n,regions:o,client:p.HTTP_CLIENT}).then(function(t){a(t.data)}).catch(function(t){s(t)})}function Mi(t,e,n,o){axios.post("/api/company/delete?access_token="+e,{cid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Gi(t,e,n,o,i){axios.get("/api/block/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Bi(t,e,n,o,i,a){axios.post("/api/block/add?access_token="+o,{uid:t,type:e,note:n,client:p.HTTP_CLIENT}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Li(t,e,n,o){axios.post("/api/block/remove?access_token="+e,{uid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Fi(t,e,n){axios.get("/api/group/get?access_token="+t,{params:{client:p.HTTP_CLIENT}}).then(function(t){e(t.data)}).catch(function(t){n(t)})}function Vi(t,e,n,o){axios.get("/api/group/members?access_token="+e,{params:{gid:t,client:p.HTTP_CLIENT}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function xi(t,e,n,o,i){axios.post("/api/group/create?access_token="+n,{nickname:t,selectedContacts:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function ji(t,e,n,o,i){axios.post("/api/group/update/nickname?access_token="+n,{gid:t,nickname:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Yi(t,e,n,o,i){axios.post("/api/group/update/announcement?access_token="+n,{gid:t,announcement:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Hi(t,e,n,o,i){axios.post("/api/group/update/description?access_token="+n,{gid:t,description:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Wi(t,e,n,o,i){axios.post("/api/group/kick?access_token="+n,{gid:t,uid:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function $i(t,e,n,o,i){axios.post("/api/group/mute?access_token="+n,{gid:t,uid:e,client:p.HTTP_CLIENT}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function zi(t,e,n,o){axios.post("/api/group/dismiss?access_token="+e,{gid:t,client:p.HTTP_CLIENT}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function qi(t,e,n,o){axios.get("/api/group/filter?access_token="+e,{params:{keyword:t,client:p.HTTP_CLIENT}}).then(function(t){n(t.data)}).catch(function(t){o(t)})}function Ki(t,e,n,o,i){axios.get("/api/taboo/get?access_token="+n,{params:{page:t,size:e,client:p.HTTP_CLIENT}}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Ji(t,e,n,o,i){axios.post("/api/taboo/create?access_token="+n,{standard:t,synonyms:e}).then(function(t){o(t.data)}).catch(function(t){i(t)})}function Xi(t,e,n,o,i,a){axios.post("/api/taboo/update?access_token="+o,{tid:t,standard:e,synonyms:n}).then(function(t){i(t.data)}).catch(function(t){a(t)})}function Qi(t,e,n,o){axios.post("/api/taboo/delete?access_token="+e,{tid:t}).then(function(t){n(t.data)}).catch(function(t){o(t)})}axios.defaults.timeout=15e3,axios.defaults.headers.post["Content-Type"]="application/json",axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",axios.defaults.baseURL=p.AXIOS_DEFAULT_BASEURL,axios.interceptors.response.use(function(t){return t},function(t){if(t.response)switch(t.response.status){case 400:console.log("axios interception error 400"),Bn.$emit(p.EVENT_BUS_LOGIN_ERROR_400,"400");break;case 401:console.log("axios interception error 401"),Bn.$emit(p.EVENT_BUS_LOGOUT,"401");break;case 403:console.log("axios interception error 403"),Bn.$emit(p.EVENT_BUS_LOGOUT,"403");break;case 500:console.log("axios interception error 500"),Bn.$emit(p.EVENT_BUS_SERVER_ERROR_500,"500");break}return"return axios interception error"});var Zi;n("6b54");function ta(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}var ea,na=function(t,e){var n=t.commit;n(Pt,{token:e})},oa=function(t){var e=t.commit,n=t.state;e(bt);var o=n.passport.token.access_token;zn(o,function(t){if(console.log("init response: ",t.data),200===t.status_code){var o=t.data.info;e(Dt,{info:o});var i=t.data.workGroups;e(Kt,{workGroups:i});var a=t.data.agentThreads;e(Lt,{threads:a});for(var s=t.data.contactThreads,c=0;c<s.length;c++){var r=s[c];e(Ft,{thread:r})}for(var u=t.data.groupThreads,l=0;l<u.length;l++){var _=u[l];e(Ft,{thread:_})}var d=t.data.queues;e(Mt,{queues:d});var f=t.data.groups;e(Xt,{groups:f});var E=t.data.contacts;e(Ht,{contacts:E}),e(kt),Ec({commit:e,state:n}),Bn.$emit(p.EVENT_BUS_CONTACT_LOAD_FINISHED,"")}else console.log("init error:",t.message),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,"初始化错误")})},ia=function(t,e){var n=t.commit,o=t.state,i=e.username,a=e.password,s=e.nickname,c=e.avatar,r=e.mobile,u=e.email,l=e.description,_=e.welcomeTip,d=o.passport.token.access_token;Wn(i,a,s,c,r,u,l,_,d,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Dt,{info:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},aa=function(t,e){var n=t.commit,o=t.state,i=e.isAutoReply,a=e.content,s=o.passport.token.access_token;$n(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(wt,{info:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},sa=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;qn(e,i,function(t){console.log(t),200===t.status_code?n(yt,{status:e}):Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ca=function(t,e){var n=t.commit,o=t.state,i=o.user.current_thread.tid,a=e.tid;n(jt,{thread:e});var s=o.passport.token.access_token;Jn(i,a,s,function(t){console.log(t)},function(t){console.log(t)});var c=20;if(ua({commit:n,state:o},c),e.type===p.THREAD_TYPE_THREAD){var r=e.visitor.uid;Va({commit:n,state:o},r),ja({commit:n,state:o},r)}},ra=function(t,e){var n=t.commit,o=(t.state,e.type),i=e.object;n(zt,{type:o,object:i})},ua=function(t,e){var n=t.commit,o=t.state,i=o.user.current_thread;if(i.type===p.THREAD_TYPE_THREAD){var a=o.user.current_thread.visitor.uid,s=o.user.current_thread.page,c=o.passport.token.access_token;Xn(a,s,e,c,function(t){console.log(t),t.data.content.forEach(function(t){n(te,{message:t})});var e=t.data.first,o=t.data.last,i=t.data.totalElements;n(Ge,{uid:a,page:s,first:e,last:o,totalElements:i}),Bn.$emit(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})}else i.type===p.THREAD_TYPE_CONTACT||(i.type,p.THREAD_TYPE_GROUP)},la=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Qn(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Me,{messages:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},_a=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.nickname,c=e.createdAtStart,r=e.createdAtEnd,u=e.workGroupNickname,l=e.agentRealName,_=e.client,d=o.passport.token.access_token;Zn(i,a,s,c,r,u,l,_,d,function(t){console.log(t);var e=t.data;n(Me,{messages:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},da=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;eo(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(ce,{rates:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},fa=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.nickname,c=e.createdAtStart,r=e.createdAtEnd,u=e.workGroupNickname,l=e.agentRealName,_=e.client,d=o.passport.token.access_token;no(i,a,s,c,r,u,l,_,d,function(t){console.log(t);var e=t.data;n(ce,{rates:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ea=function(t,e){t.commit;var n=t.state,o=n.passport.token.access_token;oo(e,o,function(t){console.log(t),200===t.status_code?Bn.$emit(p.EVENT_BUS_NOTIFICATION_SUCCESS,t.message):Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ta=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;io(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(an,{leaveMessages:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},pa=function(t,e){var n=t.commit,o=t.state,i=e.lid,a=e.replied,s=e.reply,c=o.passport.token.access_token;ao(i,a,s,c,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(sn,{leaveMessage:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ma=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.nickname,c=e.createdAtStart,r=e.createdAtEnd,u=e.workGroupNickname,l=e.agentRealName,_=e.client,d=o.passport.token.access_token;so(i,a,s,c,r,u,l,_,d,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(an,{leaveMessages:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ga=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;co(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(re,{statuses:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ia=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.createdAtStart,c=e.createdAtEnd,r=e.agentRealName,u=e.client,l=o.passport.token.access_token;ro(i,a,s,c,r,u,l,function(t){console.log(t);var e=t.data;n(re,{statuses:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Sa=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;uo(e,i,function(t){console.log(t),n(Vt,{tid:e}),200===t.status_code||Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ha=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;lo(o,function(t){console.log(t);var n=t.data;e(Be,{tags:n})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Oa=function(t,e){var n=t.commit,o=t.state,i=e.name,a=o.passport.token.access_token;_o(i,a,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Le,{tag:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Na=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;fo(e,i,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Fe,{id:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ca=function(t,e){var n=t.commit,o=t.state,i=e.thread;n(Ft,{thread:i});var a="thread."+i.tid;Mc({commit:n,state:o},a)},Ra=function(t,e){var n=t.commit,o=t.state,i=e.thread.tid;n(xt,{tid:i});var a="thread."+i;Gc({commit:n,state:o},a),n(Yt)},Aa=function(t,e){var n=t.commit,o=t.state,i=e.thread;n(Ft,{thread:i});var a="thread."+i.tid;Mc({commit:n,state:o},a)},va=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;po(o,function(t){console.log(t);var o=t.data.agentThreads;e(Lt,{threads:o});for(var i=0;i<o.length;i++){var a=o[i],s="thread."+a.tid;Mc({commit:e,state:n},s)}},function(t){console.log(t)})},ba=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;mo(i,a,s,function(t){console.log(t);var e=t.data;n(Mt,{queues:e})},function(t){console.log(t)})},Ua=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;go(e,i,function(t){console.log(t),n(Bt,{qid:e});var i=t.data,a=i.thread;n(Ft,{thread:a});var s="thread."+a.tid;Mc({commit:n,state:o},s)},function(t){console.log(t)})},Pa=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Io(i,a,s,function(t){console.log(t);var e=t.data;n(ee,{browses:e})},function(t){console.log(t)})},ka=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;So(i,a,s,function(t){console.log(t);var e=t.data;n(se,{histories:e})},function(t){console.log(t)})},ya=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.nickname,c=e.createdAtStart,r=e.createdAtEnd,u=e.workGroupNickname,l=e.agentRealName,_=e.client,d=o.passport.token.access_token;ho(i,a,s,c,r,u,l,_,d,function(t){console.log(t);var e=t.data;n(se,{histories:e})},function(t){console.log(t)})},wa=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Oo(i,a,s,function(t){console.log(t);var e=t.data;n(_e,{monitors:e})},function(t){console.log(t)})},Da=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;No(i,a,s,function(t){console.log(t);var e=t.data;n(de,{qualities:e})},function(t){console.log(t)})},Ma=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;yo(o,function(t){console.log(t);var n=t.data;e(fe,{cuws:n})},function(t){console.log(t)})},Ga=function(t,e){var n=t.commit;t.state;n(me,{categoryId:e})},Ba=function(t,e){var n=t.commit,o=t.state,i=e.categoryId,a=e.name,s=e.content,c=o.passport.token.access_token;wo(i,a,s,c,function(t){console.log(t);var e=t.data.cuw,o=t.data.category;n(Ee,{cuw:e,category:o})},function(t){console.log(t)})},La=function(t,e){var n=t.commit,o=t.state,i=e.id,a=e.name,s=e.content,c=o.passport.token.access_token;Do(i,a,s,c,function(t){console.log(t);var e=t.data.cuw,o=t.data.category;n(Te,{cuw:e,category:o})},function(t){console.log(t)})},Fa=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Mo(e,i,function(t){console.log(t);var e=t.data.cuw,o=t.data.category;n(pe,{cuw:e,category:o})},function(t){console.log(t)})},Va=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Go(e,i,function(t){console.log(t);var e=t.data.fingerPrints;n(ge,{fingerPrints:e})},function(t){console.log(t)})},xa=function(t,e){var n=t.commit,o=t.state,i=e.uid,a=e.value,s=o.passport.token.access_token;Bo(i,a,s,function(t){console.log(t);var e=t.data;n(Ie,{fingerPrint:e})},function(t){console.log(t)})},ja=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Lo(e,i,function(t){console.log(t);var o=t.data;n(Be,{uid:e,tags:o})},function(t){console.log(t)})},Ya=function(t){var e=t.commit;t.state;Fo(function(t){var n=t.data;e(De,{roles:n})},function(t){console.log(t)})},Ha=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;Co(o,function(t){console.log(t);var n=t.data;e(Ht,{contacts:n}),Bn.$emit(p.EVENT_BUS_CONTACT_LOAD_FINISHED,"")},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_CONTACT_LOAD_FINISHED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Wa=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Ro(i,a,s,function(t){console.log(t);var e=t.data;n(Se,{agents:e}),Bn.$emit(p.EVENT_BUS_AGENT_LOAD_FINISHED,"")},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_AGENT_LOAD_FINISHED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},$a=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;Ao(o,function(t){console.log(t);var n=t.data;e(on,{workGroupMembers:n})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_AGENT_LOAD_FINISHED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},za=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;vo(i,a,s,function(t){console.log(t);var e=t.data;n(he,{agents:e}),Bn.$emit(p.EVENT_BUS_AGENT_LOAD_FINISHED,"")},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_AGENT_LOAD_FINISHED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},qa=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.realName,c=o.passport.token.access_token;bo(i,a,s,c,function(t){console.log(t);var e=t.data;n(Se,{agents:e})},function(t){console.log(t)})},Ka=function(t,e){var n=t.commit,o=t.state,i=e.username,a=e.password,s=e.email,c=e.avatar,r=e.realName,u=e.nickname,l=e.maxThreadCount,_=e.workGroups,d=e.role,f=e.enabled,E=o.passport.token.access_token;Vo(i,a,s,c,r,u,l,_,d,f,E,function(t){if(console.log("create agent:",t),200===t.status_code){var e=t.data;n(Oe,{agent:e})}},function(t){console.log(t)})},Ja=function(t,e){var n=t.commit,o=t.state,i=e.id,a=e.username,s=e.password,c=e.email,r=e.avatar,u=e.realName,l=e.nickname,_=e.maxThreadCount,d=e.workGroups,f=e.role,E=e.enabled,T=o.passport.token.access_token;xo(i,a,s,c,r,u,l,_,d,f,E,T,function(t){if(console.log("update agent:",t),200===t.status_code){var e=t.data;n(Ne,{agent:e})}},function(t){console.log(t)})},Xa=function(t,e){var n=t.commit,o=t.state,i=e,a=o.passport.token.access_token;jo(i,a,function(t){if(console.log("delete agent:",t),200===t.status_code){var e=t.data;n(Ce,{id:e})}},function(t){console.log(t)})},Qa=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Uo(i,a,s,function(t){console.log(t);var e=t.data;n(Re,{workGroups:e}),Bn.$emit(p.EVENT_BUS_WORKGROUP_LOAD_FINISHIED,"")},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_WORKGROUP_LOAD_FINISHIED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Za=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;Po(o,function(t){console.log(t);var n=t.data;e(nn,{workGroups:n}),Bn.$emit(p.EVENT_BUS_WORKGROUP_LOAD_FINISHIED,"")},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_WORKGROUP_LOAD_FINISHIED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ts=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.nickname,c=o.passport.token.access_token;ko(i,a,s,c,function(t){console.log(t);var e=t.data;n(Re,{workGroups:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},es=function(t,e){var n=t.commit,o=t.state,i=e.nickname,a=e.avatar,s=e.defaultRobot,c=e.offlineRobot,r=e.forceRate,u=e.routeType,l=e.welcomeTip,_=e.acceptTip,d=e.offlineTip,f=vt()(e.workTimes),E=e.users,T=e.onDutyWorkGroupWid,m=e.admin,g=o.passport.token.access_token;Yo(i,a,s,c,r,u,l,_,d,f,E,T,m,g,function(t){console.log("create workgroup:",t);var e=t.data;n(Ae,{workGroup:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ns=function(t,e){var n=t.commit,o=t.state,i=e.id,a=e.nickname,s=e.avatar,c=e.defaultRobot,r=e.offlineRobot,u=e.forceRate,l=e.routeType,_=e.welcomeTip,d=e.acceptTip,f=e.offlineTip,E=vt()(e.workTimes),T=e.users,m=e.onDutyWorkGroupWid,g=e.admin,I=o.passport.token.access_token;Ho(i,a,s,c,r,u,l,_,d,f,E,T,m,g,I,function(t){console.log("update workgroup:",t);var e=t.data;n(ve,{workGroup:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},os=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Wo(e,i,function(t){console.log("delete workgroup:",t),n(be,{id:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},is=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;ti(i,a,s,function(t){console.log(t);var e=t.data;n(pn,{webs:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},as=function(t,e){var n=t.commit,o=t.state,i=e.name,a=e.url,s=e.description,c=o.passport.token.access_token;ei(i,a,s,c,function(t){console.log(t);var e=t.data;n(mn,{web:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ss=function(t,e){var n=t.commit,o=t.state,i=e.aid,a=e.name,s=e.url,c=e.description,r=o.passport.token.access_token;ni(i,a,s,c,r,function(t){console.log(t);var e=t.data;n(gn,{web:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},cs=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;oi(e,i,function(t){console.log(t),n(In,{aid:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},rs=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;ii(i,a,s,function(t){console.log(t);var e=t.data;n(Sn,{apps:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},us=function(t,e){var n=t.commit,o=t.state,i=e.name,a=e.avatar,s=e.version,c=e.tip,r=e.url,u=e.status,l=e.platform,_=e.description,d=o.passport.token.access_token;ai(i,a,s,c,r,u,l,_,d,function(t){console.log(t);var e=t.data;n(hn,{app:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ls=function(t,e){var n=t.commit,o=t.state,i=e.aid,a=e.name,s=e.avatar,c=e.version,r=e.tip,u=e.url,l=e.status,_=e.platform,d=e.description,f=o.passport.token.access_token;si(i,a,s,c,r,u,l,_,d,f,function(t){console.log(t);var e=t.data;n(On,{app:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},_s=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;ci(e,i,function(t){console.log(t),n(Nn,{aid:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ds=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;ri(i,a,s,function(t){console.log(t);var e=t.data;n(Cn,{mps:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},fs=function(t,e){var n=t.commit,o=t.state,i=e.nickname,a=e.number,s=e.description,c=e.company,r=e.original_id,u=e.app_id,l=e.app_secret,_=e.aes_key,d=e.encode_type,f=o.passport.token.access_token;ui(i,a,s,c,r,u,l,_,d,f,function(t){console.log(t);var e=t.data;n(Rn,{mp:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Es=function(t,e){var n=t.commit,o=t.state,i=e.wid,a=e.nickname,s=e.number,c=e.description,r=e.company,u=e.original_id,l=e.app_id,_=e.app_secret,d=e.aes_key,f=e.encode_type,E=o.passport.token.access_token;li(i,a,s,c,r,u,l,_,d,f,E,function(t){console.log(t);var e=t.data;n(An,{mp:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ts=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;_i(e,i,function(t){console.log(t),n(vn,{wid:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ps=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;di(i,a,s,function(t){console.log(t);var e=t.data;n(bn,{minis:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ms=function(t,e){var n=t.commit,o=t.state,i=e.nickname,a=e.description,s=e.company,c=e.original_id,r=e.app_id,u=e.app_secret,l=e.aes_key,_=e.encode_type,d=e.data_type,f=o.passport.token.access_token;fi(i,a,s,c,r,u,l,_,d,f,function(t){console.log(t);var e=t.data;n(Un,{mini:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},gs=function(t,e){var n=t.commit,o=t.state,i=e.wid,a=e.nickname,s=e.description,c=e.company,r=e.original_id,u=e.app_id,l=e.app_secret,_=e.aes_key,d=e.encode_type,f=e.data_type,E=o.passport.token.access_token;Ei(i,a,s,c,r,u,l,_,d,f,E,function(t){console.log(t);var e=t.data;n(Pn,{mini:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Is=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Ti(e,i,function(t){console.log(t),n(kn,{wid:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ss=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;pi(o,function(t){console.log(t);var n=t.data;e(dn,{statistic:n})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},hs=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;mi(i,a,s,function(t){console.log(t);var e=t.data;n(fn,{detail:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Os=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.date,c=e.realName,r=o.passport.token.access_token;gi(i,a,s,c,r,function(t){console.log(t);var e=t.data;n(fn,{detail:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ns=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Ii(i,a,s,function(t){console.log(t);var e=t.data;n(En,{threads:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Cs=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Si(i,a,s,function(t){console.log(t);var e=t.data;n(Tn,{rates:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Rs=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;hi(o,function(t){console.log(t);var n=t.data;e(Ve,{categories:n})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},As=function(t,e){var n=t.commit,o=t.state,i=e.parent_id,a=e.name,s=e.type,c=o.passport.token.access_token;Oi(i,a,s,c,function(t){console.log(t);var e=t.data;if(s===p.CATEGORY_TYPE_CUW_MINE){var o=null;n(Ee,{cuw:o,category:e})}else n(xe,{category:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},vs=function(t,e){var n=t.commit,o=t.state,i=e.category_id,a=e.name,s=o.passport.token.access_token;Ni(i,a,s,function(t){console.log(t);var e=t.data;if(e.type===p.CATEGORY_TYPE_CUW_MINE){var o=null;n(Te,{cuw:o,category:e})}else n(je,{category:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},bs=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Ci(e,i,function(t){console.log(t);var o=t.data;if(o.type===p.CATEGORY_TYPE_CUW_MINE){var i=null;n(pe,{cuw:i,category:o})}else n(Ye,{id:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Us=function(t,e){var n=t.commit,o=t.state,i=e.categoryId,a=e.page,s=e.size,c=o.passport.token.access_token;$o(i,a,s,c,function(t){console.log(t);var e=t.data;n(He,{answers:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ps=function(t,e){var n=t.commit,o=t.state,i=e.question,a=e.relateds,s=e.answer,c=e.categories,r=o.passport.token.access_token;zo(i,a,s,c,r,function(t){console.log(t);var e=t.data;n(We,{answer:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ks=function(t,e){var n=t.commit,o=t.state,i=e.aid,a=e.question,s=e.relateds,c=e.answer,r=e.categories,u=o.passport.token.access_token;qo(i,a,s,c,r,u,function(t){console.log(t);var e=t.data;n($e,{answer:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ys=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Ko(e,i,function(t){n(ze,{aid:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ws=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Jo(i,a,s,function(t){console.log(t);var e=t.data;n(qe,{synonyms:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ds=function(t,e){var n=t.commit,o=t.state,i=e.standard,a=e.synonyms,s=o.passport.token.access_token;Xo(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Je,{synonym:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ms=function(t,e){var n=t.commit,o=t.state,i=e.sid,a=e.standard,s=e.synonyms,c=o.passport.token.access_token;Qo(i,a,s,c,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Ke,{synonym:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Gs=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Zo(e,i,function(t){console.log(t),200===t.status_code?n(Xe,{sid:e}):Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Bs=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;Ki(i,a,s,function(t){console.log(t);var e=t.data;n(Qe,{taboos:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ls=function(t,e){var n=t.commit,o=t.state,i=e.standard,a=e.synonyms,s=o.passport.token.access_token;Ji(i,a,s,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(tn,{taboo:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Fs=function(t,e){var n=t.commit,o=t.state,i=e.sid,a=e.standard,s=e.synonyms,c=o.passport.token.access_token;Xi(i,a,s,c,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(Ze,{taboo:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Vs=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Qi(e,i,function(t){console.log(t),200===t.status_code?n(en,{tid:e}):Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},xs=function(t,e){var n=t.commit,o=t.state,i=e.categoryId,a=e.page,s=e.size,c=o.passport.token.access_token;Ri(i,a,s,c,function(t){console.log(t);var e=t.data;n(rn,{articles:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},js=function(t,e){var n=t.commit,o=t.state,i=e.title,a=e.content,s=e.categories,c=e.recommend,r=e.markdown,u=o.passport.token.access_token;Ai(i,a,c,r,s,u,function(t){console.log(t),Bn.$emit(p.EVENT_BUS_SUPPORT_NEW_ARTICLE_SUCCESS);var e=t.data;n(un,{article:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_SUPPORT_NEW_ARTICLE_ERROR)})},Ys=function(t,e){var n=t.commit,o=t.state,i=e.id,a=e.title,s=e.content,c=e.recommend,r=e.markdown,u=e.categories,l=o.passport.token.access_token;vi(i,a,s,c,r,u,l,function(t){console.log(t),Bn.$emit(p.EVENT_BUS_SUPPORT_UPDATE_ARTICLE_SUCCESS);var e=t.data;n(ln,{article:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_SUPPORT_UPDATE_ARTICLE_ERROR)})},Hs=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;bi(e,i,function(t){console.log(t),n(_n,{articleId:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ws=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Ui(e,i,function(t){console.log(t);var e=t.data;n(Dt,{info:e}),n(kt)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},$s=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=e.name,c=o.passport.token.access_token;Pi(i,a,s,c,function(t){console.log(t);var e=t.data;n(Pe,{companies:e}),Bn.$emit(p.EVENT_BUS_COMPANY_LOAD_FINISHED,"")},function(t){console.log(t)})},zs=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;ki(o,function(t){console.log(t);var n=t.data;e(Ue,{regions:n})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},qs=function(t,e){var n=t.commit,o=t.state,i=e.page,a=e.size,s=o.passport.token.access_token;yi(i,a,s,function(t){console.log(t);var e=t.data;n(Pe,{companies:e}),Bn.$emit(p.EVENT_BUS_COMPANY_LOAD_FINISHED,"")},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_COMPANY_LOAD_FINISHED,""),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Ks=function(t,e){var n=t.commit,o=t.state,i=e.name,a=e.description,s=e.selectedRegions,c=o.passport.token.access_token;wi(i,a,s,c,function(t){console.log(t);var e=t.data;n(ke,{company:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Js=function(t,e){var n=t.commit,o=t.state,i=e.cid,a=e.name,s=e.description,c=e.selectedRegions,r=o.passport.token.access_token;Di(i,a,s,c,r,function(t){console.log(t);var e=t.data;n(ye,{company:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Xs=function(t,e){var n=t.commit,o=t.state,i=o.passport.token.access_token;Mi(e,i,function(t){console.log(t);var e=t.data;n(we,{cid:e})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Qs=function(t,e){t.commit;var n=t.state,o=e.page,i=e.size,a=n.passport.token.access_token;Gi(o,i,a,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Zs=function(t,e){t.commit;var n=t.state,o=e.uid,i=e.type,a=e.note,s=n.passport.token.access_token;Bi(o,i,a,s,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},tc=function(t,e){t.commit;var n=t.state,o=n.passport.token.access_token;Li(e,o,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ec=function(t){var e=t.commit,n=t.state,o=n.passport.token.access_token;Fi(o,function(t){console.log(t);var n=t.data;e(Xt,{groups:n})},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},nc=function(t,e){t.commit;var n=t.state,o=e,i=n.passport.token.access_token;Vi(o,i,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},oc=function(t,e){var n=t.commit,o=t.state,i=e.nickname,a=e.selectedContacts,s=o.passport.token.access_token;xi(i,a,s,function(t){console.log(t);var e=t.data;n(Qt,{group:e}),Bn.$emit(p.EVENT_BUS_GROUP_ADDED,e)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ic=function(t,e){t.commit;var n=t.state,o=e.gid,i=e.nickname,a=n.passport.token.access_token;ji(o,i,a,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},ac=function(t,e){t.commit;var n=t.state,o=e.gid,i=e.nickname,a=n.passport.token.access_token;Yi(o,i,a,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},sc=function(t,e){t.commit;var n=t.state,o=e.gid,i=e.nickname,a=n.passport.token.access_token;Hi(o,i,a,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},cc=function(t,e){t.commit;var n=t.state,o=e.gid,i=e.uid,a=n.passport.token.access_token;Wi(o,i,a,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},rc=function(t,e){t.commit;var n=t.state,o=e.gid,i=e.uid,a=n.passport.token.access_token;$i(o,i,a,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},uc=function(t,e){t.commit;var n=t.state,o=e.gid,i=n.passport.token.access_token;zi(o,i,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},lc=function(t,e){t.commit;var n=t.state,o=e,i=n.passport.token.access_token;qi(o,i,function(t){console.log(t)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},_c=function(t){var e=t.commit;t.state;localStorage.removeItem("access_token"),e(Mn)},dc=function(t){var e=t.commit,n=t.state;console.log("action logout");var o=n.passport.token.access_token;Kn(o,function(t){console.log(t),200===t.status_code&&(_c({commit:e,state:n}),Bn.$emit(p.EVENT_BUS_LOGOUT,"logout"))},function(t){console.log(t),_c({commit:e,state:n}),Bn.$emit(p.EVENT_BUS_LOGOUT,"logout")})},fc=function(t,e){var n=t.commit;t.state;n(Gn,{view:e})},Ec=function(t){var e=t.commit,n=t.state,o=p.STOMP_CONNECTION_STATUS_CONNECTING;e(ie,{connectionStatus:o}),Bn.$emit(p.EVENT_BUS_STOMP_CONNECTION_STATUS,o);var i=new SockJS(p.SOCKJS_WEBSOCKET_ENDPOINT+n.passport.token.access_token);Zi=StompJS.Stomp.over(i),Zi.reconnectDelay=1e3,Zi.heartbeatOutgoing=15e3,Zi.heartbeatIncoming=15e3,Zi.logRawCommunication=!0,p.IS_PRODUCTION,Zi.beforeConnect=function(){console.log("beforeConnect")},Zi.onConnect=function(t){console.log("onConnect:"+t)},Zi.onDisconnect=function(t){console.log("onDisconnect:"+t)},Zi.onStompError=function(t){console.log("onStompError:"+t),Tc({commit:e,state:n})},Zi.onWebSocketClose=function(t){console.log("onWebSocketClose:"+t),Tc({commit:e,state:n})},Zi.onWebSocketError=function(t){console.log("onWebSocketError:"+t),Tc({commit:e,state:n})},Zi.connect({},function(t){console.log("Connected: "+t),0;var o=p.STOMP_CONNECTION_STATUS_CONNECTED;e(ie,{connectionStatus:o}),Bn.$emit(p.EVENT_BUS_STOMP_CONNECTION_STATUS,o);var i="subDomain."+n.user.info.subDomain;Mc({commit:e,state:n},i);for(var a=n.user.workGroups,s=0;s<a.length;s++){var c=a[s],r="workGroup."+c.wid;Mc({commit:e,state:n},r)}for(var u=n.user.groups,l=0;l<u.length;l++){var _=u[l],d="group."+_.gid;Mc({commit:e,state:n},d)}for(var f=n.user.threads,E=0;E<f.length;E++){var T=f[E],m="thread."+T.tid;Mc({commit:e,state:n},m)}var g="contact."+n.user.info.uid;Mc({commit:e,state:n},g),g="user."+n.user.info.uid,Mc({commit:e,state:n},g)},function(t){console.log("连接断开【"+t+"】"),Tc({commit:e,state:n})})},Tc=function(t){var e=t.commit,n=t.state;e(Dn);var o=p.STOMP_CONNECTION_STATUS_DISCONNECTED;e(ie,{connectionStatus:o}),Bn.$emit(p.EVENT_BUS_STOMP_CONNECTION_STATUS,o),setTimeout(function(){console.log("reconnecting..."),0,Ec({commit:e,state:n})},1e4)},pc=function(t,e){t.commit;var n=t.state,o="thread."+n.user.current_thread.tid;Zi.send("/app/"+o,{},vt()({type:p.MESSAGE_TYPE_TEXT,content:e,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},mc=function(t,e){t.commit;var n=t.state,o="thread."+n.user.current_thread.tid;Zi.send("/app/"+o,{},vt()({type:p.MESSAGE_TYPE_IMAGE,imageUrl:e,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},gc=function(t,e){t.commit;var n=t.state,o=e.fileUrl,i=e.format,a="thread."+n.user.current_thread.tid;Zi.send("/app/"+a,{},vt()({type:p.MESSAGE_TYPE_FILE,fileUrl:o,format:i,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},Ic=function(t,e){t.commit;var n=t.state,o=e.type,i=e.content,a="thread."+n.user.current_thread.tid;Zi.send("/app/"+a,{},vt()({type:o,content:i,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},Sc=function(t,e){t.commit;var n=t.state,o="thread."+n.user.current_thread.tid;Zi.send("/app/"+o,{},vt()({type:p.MESSAGE_TYPE_NOTIFICATION_PREVIEW,content:e,client:p.CLIENT_WEB_ADMIN}))},hc=function(t,e){t.commit,t.state;var n=e.mid,o=e.status,i="thread."+e.tid;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_NOTIFICATION_RECEIPT,content:n,status:o,client:p.CLIENT_WEB_ADMIN}))},Oc=function(t,e){t.commit;var n=t.state,o=e.type,i=e.content,a="thread."+n.user.current_thread.tid;Zi.send("/app/"+a,{},vt()({type:o,candidate:i,client:p.CLIENT_WEB_ADMIN}))},Nc=function(t,e){t.commit;var n=t.state,o=e.type,i=e.content,a="thread."+n.user.current_thread.tid;Zi.send("/app/"+a,{},vt()({type:o,sessionDescription:i,client:p.CLIENT_WEB_ADMIN}))},Cc=function(t,e){t.commit,t.state;var n=e.uid,o=e.content,i="contact."+n;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_TEXT,content:o,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},Rc=function(t,e){t.commit,t.state;var n=e.uid,o=e.imageUrl,i="contact."+n;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_IMAGE,imageUrl:o,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},Ac=function(t,e){t.commit,t.state;var n=e.uid,o=e.fileUrl,i=e.format,a="contact."+n;Zi.send("/app/"+a,{},vt()({type:p.MESSAGE_TYPE_FILE,fileUrl:o,format:i,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},vc=function(t,e){t.commit,t.state;var n=e.uid,o=e.content,i="contact."+n;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_CUSTOM,content:o,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},bc=function(t,e){t.commit,t.state;var n=e.gid,o=e.content,i="group."+n;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_TEXT,content:o,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},Uc=function(t,e){t.commit,t.state;var n=e.gid,o=e.imageUrl,i="group."+n;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_IMAGE,imageUrl:o,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},Pc=function(t,e){t.commit,t.state;var n=e.uid,o=e.fileUrl,i=e.format,a="group."+n;Zi.send("/app/"+a,{},vt()({type:p.MESSAGE_TYPE_FILE,fileUrl:o,format:i,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},kc=function(t,e){t.commit,t.state;var n=e.uid,o=e.content,i="group."+n;Zi.send("/app/"+i,{},vt()({type:p.MESSAGE_TYPE_CUSTOM,content:o,localId:ta(),client:p.CLIENT_WEB_ADMIN}))},yc=function(t,e){var n=t.commit,o=t.state,i={tid:o.user.current_thread.tid,type:p.MESSAGE_TYPE_TEXT,content:e,sessionType:p.MESSAGE_SESSION_TYPE_THREAD};Dc({commit:n,state:o},i)},wc=function(t,e){var n=t.commit,o=t.state,i={tid:o.user.current_thread.tid,type:p.MESSAGE_TYPE_IMAGE,content:e,sessionType:p.MESSAGE_SESSION_TYPE_THREAD};Dc({commit:n,state:o},i)},Dc=function(t,e){var n=t.commit,o=t.state,i=e.tid,a=e.type,s=e.content,c=e.sessionType,r=ta(),u=o.passport.token.access_token;to(i,a,s,r,c,u,function(t){if(console.log(t),200===t.status_code){var e=t.data;n(te,{message:e})}else Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t.message)},function(t){console.log(t),Bn.$emit(p.EVENT_BUS_NOTIFICATION_ERROR,t)})},Mc=function t(e,n){var o=e.commit,i=e.state,a=i.user.subscribed_topics.some(function(t){return n===t.topic});if(!a){var s=Zi.subscribe("/topic/"+n,function(e){var n=JSON.parse(e.body);if(n.type===p.MESSAGE_TYPE_NOTIFICATION_QUEUE){console.log("排队访客");var a=n.queue;o(Gt,{queue:a})}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_QUEUE_ACCEPT){console.log("排队访客被接入");var s=n.queue.qid;o(Bt,{qid:s})}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_THREAD||n.type===p.MESSAGE_TYPE_NOTIFICATION_THREAD_REENTRY){console.log("新会话 + 重新进入会话"),o(te,{message:n});var c=n.thread;o(Ft,{thread:c});var r="thread."+c.tid;t({commit:o,state:i},r),Bn.$emit(p.EVENT_BUS_NOTIFICATION_INFO,n)}else if(n.type===p.MESSAGE_TYPE_TEXT||n.type===p.MESSAGE_TYPE_IMAGE||n.type===p.MESSAGE_TYPE_FILE)if(console.log("会话消息:",n.type),o(te,{message:n}),n.thread.type===p.THREAD_TYPE_THREAD){if(n.user.uid!==i.user.info.uid){var u={mid:n.mid,tid:n.thread.tid,status:p.MESSAGE_STATUS_RECEIVED};if(hc({commit:o,state:i},u),n.thread.tid===i.user.current_thread.tid){var l={mid:n.mid,tid:n.thread.tid,status:p.MESSAGE_STATUS_READ};hc({commit:o,state:i},l)}}var _=n.thread;_.tid===i.user.current_thread.tid&&Bn.$emit(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM);var d=_.tid,f=_.content,E=_.timestamp,T=_.unreadCount;o(qt,{tid:d,content:f,timestamp:E,unreadCount:T}),n.user.visitor&&Bn.$emit(p.EVENT_BUS_NOTIFICATION_INFO,n)}else n.thread.type===p.THREAD_TYPE_CONTACT?Bn.$emit(p.EVENT_BUS_NOTIFICATION_CONTACT_MESSAGE,n):n.thread.type===p.THREAD_TYPE_GROUP&&Bn.$emit(p.EVENT_BUS_NOTIFICATION_GROUP_MESSAGE,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_CONNECT||n.type===p.MESSAGE_TYPE_NOTIFICATION_DISCONNECT){var m=n.thread,g=m.tid,I=m.content,S=m.timestamp,h=m.unreadCount;o(qt,{tid:g,content:I,timestamp:S,unreadCount:h})}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_AGENT_CLOSE||n.type===p.MESSAGE_TYPE_NOTIFICATION_VISITOR_CLOSE||n.type===p.MESSAGE_TYPE_NOTIFICATION_AUTO_CLOSE){console.log("关闭会话"),o(te,{message:n});var O=n.thread.tid;o(Vt,{tid:O});var N=n.thread;N.tid===i.user.current_thread.tid&&Bn.$emit(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM);var C=N.content,R=N.timestamp,A=N.unreadCount;o(qt,{tid:O,content:C,timestamp:R,unreadCount:A})}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_INVITE_RATE)console.log("邀请评价"),o(te,{message:n}),Bn.$emit(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_RATE_RESULT)o(te,{message:n}),Bn.$emit(p.EVENT_BUS_NOTIFICATION_SUCCESS,"访客已评价"),Bn.$emit(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_INVITE)console.log("邀请会话"),Bn.$emit(p.EVENT_BUS_NOTIFICATION_INVITE,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_INVITE_ACCEPT)console.log("接受邀请"),Bn.$emit(p.EVENT_BUS_NOTIFICATION_INVITE_ACCEPT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_INVITE_REJECT)console.log("拒绝邀请"),Bn.$emit(p.EVENT_BUS_NOTIFICATION_INVITE_REJECT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_TRANSFER)console.log("转接会话"),Bn.$emit(p.EVENT_BUS_NOTIFICATION_TRANSFER,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_TRANSFER_ACCEPT)console.log("接受转接"),Bn.$emit(p.EVENT_BUS_NOTIFICATION_TRANSFER_ACCEPT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_TRANSFER_REJECT)console.log("拒绝转接"),Bn.$emit(p.EVENT_BUS_NOTIFICATION_TRANSFER_REJECT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_ACCEPT_STATUS)console.log("在线状态变化");else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_BROWSE_START){console.log("访客开始浏览网页");var v=n.browse;o(ne,{browse:v})}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_BROWSE_END){console.log("访客关闭网页");var b=n.browse;o(oe,{browse:b})}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_BROWSE_INVITE_ACCEPT){console.log("访客接受邀请");var U=n.thread;o(Ft,{thread:U});var P="thread."+U.tid;t({commit:o,state:i},P)}else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_BROWSE_INVITE_REJECT)console.log("访客拒绝邀请");else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_PREVIEW)console.log("消息预知"),n.user.visitor&&Bn.$emit(p.EVENT_BUS_MESSAGE_PREVIEW,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_RECEIPT)console.log("收到消息回执"),Bn.$emit(p.EVENT_BUS_MESSAGE_RECEIPT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_KICKOFF)console.log("踢掉其他客户端");else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_INVITE)console.log("通知初始化localStream"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_INVITE,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_CANCEL)console.log("webrtc取消邀请"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_CANCEL,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_OFFER_VIDEO)console.log("webrtc邀请视频会话"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_OFFER_VIDEO,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_OFFER_AUDIO)console.log("webrtc邀请音频会话"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_OFFER_AUDIO,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_ANSWER)console.log("接受webrtc邀请"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_ANSWER,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_CANDIDATE)console.log("webrtccandidate信息"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_CANDIDATE,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_ACCEPT)console.log("接受webrtc邀请"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_ACCEPT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_REJECT)console.log("拒绝webrtc邀请"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_REJECT,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_READY)console.log("被邀请方视频设备 + peeConnection已经就绪"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_READY,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_BUSY)console.log("webrtc忙线"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_BUSY,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_CLOSE)console.log("结束webrtc会话"),Bn.$emit(p.EVENT_BUS_MESSAGE_WEBRTC_CLOSE,n);else if(n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_CREATE){console.log("创建群组");var k=n.thread.group;o(Qt,{group:k}),Bn.$emit(p.EVENT_BUS_GROUP_ADDED,k);var y="group."+k.gid;t({commit:o,state:i},y)}else n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_UPDATE?console.log("更新群名称、简介等"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_ANNOUNCEMENT?console.log("群公告"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_INVITE?console.log("邀请多人加入群"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_INVITE_ACCEPT?console.log("受邀请：同意"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_INVITE_REJECT?console.log("受邀请：拒绝"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_APPLY?console.log("主动申请加入群组"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_APPLY_APPROVE?console.log("同意：主动申请加群"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_APPLY_DENY?console.log("拒绝：主动申请加群"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_KICK?console.log("踢人"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_MUTE?console.log("禁言"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_TRANSFER?console.log("移交群组"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_TRANSFER_ACCEPT?console.log("移交群组：同意、接受"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_TRANSFER_REJECT?console.log("移交群组：拒绝"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_WITHDRAW?console.log("退出群组"):n.type===p.MESSAGE_TYPE_NOTIFICATION_GROUP_DISMISS?console.log("解散群组"):(console.log("other message:",n),Bn.$emit(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM))});o(yn,{topic:n,subscription:s})}},Gc=function(t,e){for(var n=t.commit,o=t.state,i=o.user.subscribed_topics.length-1;i>=0;i--){var a=o.user.subscribed_topics[i];if(a.topic===e){var s=a.subscription;s.unsubscribe()}}n(wn,{topic:e})},Bc=function(t,e){t.commit,t.state;Zi.subscribe("/user/queue/"+e,function(t){console.log("queue:",e,":",t,"body:",t.body)})},Lc=function(t){t.commit,t.state;Zi.disconnect(function(){console.log("stomp disconnect")})},Fc=n("bd86"),Vc=(ea={},Object(Fc["a"])(ea,bt,function(t){var e=localStorage.getItem(Ut);e&&(t.passport.token=JSON.parse(e),localStorage.access_token=t.passport.token.access_token)}),Object(Fc["a"])(ea,kt,function(t){t.user.show_authority.home=!1,t.user.show_authority.statistic=!1,t.user.show_authority.chat=!0,t.user.show_authority.thread=!0,t.user.show_authority.visitor=!0,t.user.show_authority.history=!0,t.user.show_authority.monitor=!1,t.user.show_authority.quality=!1,t.user.show_authority.robot=!1,t.user.show_authority.support=!1,t.user.show_authority.setting=!0,t.user.show_authority.feedback=!1,t.user.show_authority.workorder=!1,t.user.show_authority.callcenter=!1,t.user.show_authority.crm=!1,t.user.show_authority.wenjuan=!1,t.user.show_authority.internal=!1,t.user.show_authority.admin=!1,t.user.show_authority.debug=!1,t.user.show_authority.free=!1,t.user.show_authority.try=!1,t.user.show_authority.vip=!1;for(var e=0;e<t.user.info.roles.length;e++){var n=t.user.info.roles[e];n.value===p.ROLE_SUPER&&(t.user.show_authority.debug=!0,t.user.show_authority.admin=!0),n.value===p.ROLE_ADMIN&&(t.user.show_authority.admin=!0),n.value===p.ROLE_FREE&&(t.user.show_authority.free=!0),n.value===p.ROLE_TRY&&(t.user.show_authority.admin=!0,t.user.show_authority.try=!0),n.value===p.ROLE_VIP&&(t.user.show_authority.admin=!0,t.user.show_authority.vip=!0),n.value!==p.ROLE_SUPER&&n.value!==p.ROLE_VIP&&n.value!==p.ROLE_TRY||(t.user.show_authority.home=!0,t.user.show_authority.statistic=!0,t.user.show_authority.history=!0,t.user.show_authority.monitor=!0,t.user.show_authority.quality=!0,t.user.show_authority.robot=!0,t.user.show_authority.support=!0,t.user.show_authority.feedback=!0,t.user.show_authority.workorder=!0,t.user.show_authority.callcenter=!0,t.user.show_authority.crm=!0,t.user.show_authority.wenjuan=!0,t.user.show_authority.internal=!0)}}),Object(Fc["a"])(ea,wt,function(t,e){var n=e.info;t.user.info=n}),Object(Fc["a"])(ea,Dt,function(t,e){var n=e.info;t.user.info=n}),Object(Fc["a"])(ea,yt,function(t,e){var n=e.status;t.user.info.acceptStatus=n}),Object(Fc["a"])(ea,Lt,function(t,e){var n=e.threads;t.user.threads=n;for(var o=0;o<n.length;o++){var i=n[o];i.current&&this.commit(jt,{thread:i})}}),Object(Fc["a"])(ea,Ft,function(t,e){for(var n=e.thread,o=t.user.threads.length-1;o>=0;o--){var i=t.user.threads[o];n.type===p.THREAD_TYPE_THREAD?i.visitor.uid===n.visitor.uid&&t.user.threads.splice(o,1):n.type===p.THREAD_TYPE_CONTACT||(n.type,p.THREAD_TYPE_GROUP)}var a=t.user.threads.some(function(t){return n.tid===t.tid});a||t.user.threads.unshift(n)}),Object(Fc["a"])(ea,Vt,function(t,e){for(var n=e.tid,o=t.user.threads.length-1;o>=0;o--)t.user.threads[o].tid===n&&(t.user.threads[o].closed=!0);t.user.current_thread.tid===n&&(t.user.current_thread.id=0,t.user.current_thread.tid="")}),Object(Fc["a"])(ea,xt,function(t,e){for(var n=e.tid,o=t.user.threads.length-1;o>=0;o--)t.user.threads[o].tid===n&&t.user.threads.splice(o,1)}),Object(Fc["a"])(ea,Mt,function(t,e){var n=e.queues;t.user.queues=n}),Object(Fc["a"])(ea,Gt,function(t,e){var n=e.queue,o=t.user.queues.content.some(function(t){return t.qid===n.qid});o||t.user.queues.content.unshift(n)}),Object(Fc["a"])(ea,Bt,function(t,e){for(var n=e.qid,o=0;o<t.user.queues.content.length;o++){var i=t.user.queues.content[o];i.qid===n&&t.user.queues.content.splice(o,1)}}),Object(Fc["a"])(ea,Ht,function(t,e){var n=e.contacts;t.user.contacts=n}),Object(Fc["a"])(ea,Wt,function(t,e){var n=e.contact;t.user.current_contact=n}),Object(Fc["a"])(ea,qt,function(t,e){for(var n=e.tid,o=e.content,i=e.timestamp,a=e.unreadCount,s=t.user.threads.length-1;s>=0;s--)t.user.threads[s].tid===n&&(t.user.threads[s].content=o,t.user.threads[s].timestamp=i,t.user.threads[s].unreadCount=a)}),Object(Fc["a"])(ea,Kt,function(t,e){var n=e.workGroups;t.user.workGroups=n}),Object(Fc["a"])(ea,Xt,function(t,e){var n=e.groups;t.user.groups=n}),Object(Fc["a"])(ea,Qt,function(t,e){var n=e.group;t.user.groups.unshift(n)}),Object(Fc["a"])(ea,$t,function(t,e){var n=e.group;t.user.current_group=n}),Object(Fc["a"])(ea,zt,function(t,e){var n=e.type,o=e.object;t.user.current_chat_type=n,n===p.THREAD_TYPE_THREAD?t.user.current_thread=o:n===p.THREAD_TYPE_CONTACT?t.user.current_contact=o:n===p.THREAD_TYPE_GROUP&&(t.user.current_group=o)}),Object(Fc["a"])(ea,Jt,function(t,e){var n=e.workGroup,o=t.user.workGroups.some(function(t){return t.wid===n.wid});o||t.user.workGroups.unshift(n)}),Object(Fc["a"])(ea,Zt,function(t,e){var n=e.messages;t.user.messages=n}),Object(Fc["a"])(ea,te,function(t,e){for(var n=e.message,o=!1,i=t.user.messages.length-1;i>=0;i--){var a=t.user.messages[i];a.mid===n.mid&&(t.user.messages.splice(i,1),t.user.messages.unshift(n),o=!0)}o||t.user.messages.unshift(n)}),Object(Fc["a"])(ea,ee,function(t,e){var n=e.browses;t.user.browses=n}),Object(Fc["a"])(ea,ne,function(t,e){var n=e.browse,o=t.user.browses.content.some(function(t){return t.bid===n.bid});o||(t.user.browses.content.unshift(n),t.user.browses.totalElements+=1)}),Object(Fc["a"])(ea,oe,function(t,e){for(var n=e.browse,o=0;o<t.user.browses.content.length;o++){var i=t.user.browses.content[o];i.bid===n.bid&&(t.user.browses.content.splice(o,1),t.user.browses.totalElements-=1)}}),Object(Fc["a"])(ea,ie,function(t,e){var n=e.connectionStatus;t.user.settings.connection_status=n}),Object(Fc["a"])(ea,jt,function(t,e){var n=e.thread;n.current=!0,n.unreadCount=0,t.user.current_thread=n;var o="";n.type===p.THREAD_TYPE_THREAD?o=n.visitor.uid:n.type===p.THREAD_TYPE_CONTACT?o=n.contact.uid:n.type===p.THREAD_TYPE_GROUP&&(o=n.group.gid);for(var i=0;i<t.user.mores.length;i++)if(t.user.mores[i].uid===o)return a["default"].set(t.user.current_thread,"page",t.user.mores[i].page),a["default"].set(t.user.current_thread,"first",t.user.mores[i].first),a["default"].set(t.user.current_thread,"last",t.user.mores[i].last),void a["default"].set(t.user.current_thread,"totalElements",t.user.mores[i].totalElements);a["default"].set(t.user.current_thread,"page",0),a["default"].set(t.user.current_thread,"first",!0),a["default"].set(t.user.current_thread,"last",!1),a["default"].set(t.user.current_thread,"totalElements",0);var s={uid:o,page:0,first:!0,last:!1,totalElements:0};t.user.mores.unshift(s)}),Object(Fc["a"])(ea,Yt,function(t){t.user.current_thread.id=0}),Object(Fc["a"])(ea,Ge,function(t,e){for(var n=e.uid,o=e.page,i=e.first,a=e.last,s=e.totalElements,c=!1,r=0;r<t.user.mores.length;r++)t.user.mores[r].uid===n&&(c=!0,t.user.mores[r].page=o+1,t.user.mores[r].first=i,t.user.mores[r].last=a,t.user.mores[r].totalElements=s,t.user.current_thread.page=o+1,t.user.current_thread.first=i,t.user.current_thread.last=a,t.user.current_thread.totalElements=s);if(!c){var u={uid:n,page:o+1,first:i,last:a,totalElements:s};t.user.mores.unshift(u)}}),Object(Fc["a"])(ea,ae,function(t,e){var n=e.threads;t.threads=n}),Object(Fc["a"])(ea,se,function(t,e){var n=e.histories;t.histories=n}),Object(Fc["a"])(ea,ce,function(t,e){var n=e.rates;t.rates=n}),Object(Fc["a"])(ea,Me,function(t,e){var n=e.messages;t.messages=n}),Object(Fc["a"])(ea,re,function(t,e){var n=e.statuses;t.statuses=n}),Object(Fc["a"])(ea,ue,function(t,e){var n=e.queues;t.queues=n}),Object(Fc["a"])(ea,le,function(t,e){var n=e.browses;t.browses=n}),Object(Fc["a"])(ea,_e,function(t,e){var n=e.monitors;t.monitors=n}),Object(Fc["a"])(ea,de,function(t,e){var n=e.qualities;t.qualities=n}),Object(Fc["a"])(ea,fe,function(t,e){var n=e.cuws;t.cuws[0].cuwChildren=n.mine,t.cuws[1].cuwChildren=n.company,t.cuws[2].cuwChildren=n.platform}),Object(Fc["a"])(ea,Ee,function(t,e){var n=e.cuw,o=e.category;if(null===n)t.cuws[0].cuwChildren.unshift(o);else for(var i=o.type===p.CATEGORY_TYPE_CUW_MINE?0:1,a=0;a<t.cuws[i].cuwChildren.length;a++){var s=t.cuws[i].cuwChildren[a];if(o.id===s.id)return void t.cuws[i].cuwChildren[a].cuwChildren.unshift(n)}}),Object(Fc["a"])(ea,Te,function(t,e){var n=e.cuw,o=e.category;if(null===n)for(var i=0;i<t.cuws[0].cuwChildren.length;i++)t.cuws[0].cuwChildren[i].id===o.id&&a["default"].set(t.cuws[0].cuwChildren[i],"name",o.name);else for(var s=o.type===p.CATEGORY_TYPE_CUW_MINE?0:1,c=0;c<t.cuws[s].cuwChildren.length;c++)for(var r=t.cuws[s].cuwChildren[c],u=0;u<r.cuwChildren.length;u++)r.cuwChildren[u].id===n.id&&(a["default"].set(r.cuwChildren[u],"name",n.name),a["default"].set(r.cuwChildren[u],"content",n.content))}),Object(Fc["a"])(ea,pe,function(t,e){var n=e.cuw,o=e.category;if(null===n)for(var i=0;i<t.cuws[0].cuwChildren.length;i++){var a=t.cuws[0].cuwChildren[i];a.id===o.id&&t.cuws[0].cuwChildren.splice(i,1)}else for(var s=o.type===p.CATEGORY_TYPE_CUW_MINE?0:1,c=0;c<t.cuws[s].cuwChildren.length;c++)for(var r=t.cuws[s].cuwChildren[c],u=0;u<r.cuwChildren.length;u++){var l=r.cuwChildren[u];l.id===n.id&&r.cuwChildren.splice(u,1)}}),Object(Fc["a"])(ea,me,function(t,e){var n=e.categoryId;t.current_company_cuw_category_id=n}),Object(Fc["a"])(ea,ge,function(t,e){var n=e.fingerPrints;t.user.fingerPrints=n}),Object(Fc["a"])(ea,Ie,function(t,e){var n=e.fingerPrint;t.user.fingerPrints.push(n)}),Object(Fc["a"])(ea,Se,function(t,e){var n=e.agents;t.agents=n}),Object(Fc["a"])(ea,he,function(t,e){var n=e.agents;t.online_agents=n}),Object(Fc["a"])(ea,Oe,function(t,e){var n=e.agent,o=t.agents.content.some(function(t){return t.id===n.id});o||t.agents.content.unshift(n)}),Object(Fc["a"])(ea,Ne,function(t,e){for(var n=e.agent,o=t.agents.content.length-1;o>=0;o--){var i=t.agents.content[o];i.id===n.id&&(t.agents.content.splice(o,1),t.agents.content.unshift(n))}}),Object(Fc["a"])(ea,Ce,function(t,e){for(var n=e.id,o=t.agents.content.length-1;o>=0;o--){var i=t.agents.content[o];i.id===n&&t.agents.content.splice(o,1)}}),Object(Fc["a"])(ea,Re,function(t,e){var n=e.workGroups;t.workGroups=n}),Object(Fc["a"])(ea,Ae,function(t,e){var n=e.workGroup,o=t.workGroups.content.some(function(t){return t.id===n.id});o||t.workGroups.content.unshift(n)}),Object(Fc["a"])(ea,ve,function(t,e){for(var n=e.workGroup,o=t.workGroups.content.length-1;o>=0;o--){var i=t.workGroups.content[o];i.id===n.id&&(t.workGroups.content.splice(o,1),t.workGroups.content.unshift(n))}}),Object(Fc["a"])(ea,be,function(t,e){for(var n=e.id,o=t.workGroups.content.length-1;o>=0;o--){var i=t.workGroups.content[o];i.id===n&&t.workGroups.content.splice(o,1)}}),Object(Fc["a"])(ea,Ue,function(t,e){var n=e.regions;t.regions=n}),Object(Fc["a"])(ea,Pe,function(t,e){var n=e.companies;t.companies=n}),Object(Fc["a"])(ea,ke,function(t,e){var n=e.company,o=t.companies.content.some(function(t){return t.id===n.id});o||t.companies.content.unshift(n)}),Object(Fc["a"])(ea,ye,function(t,e){for(var n=e.company,o=t.companies.content.length-1;o>=0;o--){var i=t.companies.content[o];i.id===n.id&&(t.companies.content.splice(o,1),t.companies.content.unshift(n))}}),Object(Fc["a"])(ea,we,function(t,e){for(var n=e.cid,o=t.companies.content.length-1;o>=0;o--){var i=t.companies.content[o];i.cid===n&&t.companies.content.splice(o,1)}}),Object(Fc["a"])(ea,Be,function(t,e){var n=e.uid,o=e.tags;t.user.userTags[n]=o}),Object(Fc["a"])(ea,Le,function(t,e){var n=e.tag,o=t.user.userTags.some(function(t){return t.id===n.id});o||t.user.userTags.unshift(n)}),Object(Fc["a"])(ea,Fe,function(t,e){for(var n=e.id,o=0;o<t.user.userTags.length;o++){var i=t.user.userTags[o];i.id===n&&t.user.userTags.splice(o,1)}}),Object(Fc["a"])(ea,Ve,function(t,e){var n=e.categories;t.categories=n}),Object(Fc["a"])(ea,xe,function(t,e){var n=e.category,o=t.categories.some(function(t){return t.id===n.id});o||(t.categories.unshift(n),t.cuws[1].cuwChildren.unshift(n))}),Object(Fc["a"])(ea,je,function(t,e){for(var n=e.category,o=t.categories.length-1;o>=0;o--){var i=t.categories[o];i.id===n.id&&a["default"].set(t.categories[o],"name",n.name)}}),Object(Fc["a"])(ea,Ye,function(t,e){for(var n=e.id,o=t.categories.length-1;o>=0;o--){var i=t.categories[o];i.id===n&&t.categories.splice(o,1)}}),Object(Fc["a"])(ea,He,function(t,e){var n=e.answers;t.robot.answers=n}),Object(Fc["a"])(ea,We,function(t,e){var n=e.answer,o=t.robot.answers.content.some(function(t){return t.id===n.id});o||t.robot.answers.content.unshift(n)}),Object(Fc["a"])(ea,$e,function(t,e){for(var n=e.answer,o=t.robot.answers.content.length-1;o>=0;o--){var i=t.robot.answers.content[o];i.id===n.id&&(t.robot.answers.content.splice(o,1),t.robot.answers.content.unshift(n))}}),Object(Fc["a"])(ea,ze,function(t,e){for(var n=e.aid,o=0;o<t.robot.answers.content.length;o++){var i=t.robot.answers.content[o];i.aid===n&&t.robot.answers.content.splice(o,1)}}),Object(Fc["a"])(ea,qe,function(t,e){var n=e.synonyms;t.robot.synonyms=n}),Object(Fc["a"])(ea,Je,function(t,e){var n=e.synonym,o=t.robot.synonyms.content.some(function(t){return t.sid===n.sid});o||t.robot.synonyms.content.unshift(n)}),Object(Fc["a"])(ea,Ke,function(t,e){for(var n=e.synonym,o=t.robot.synonyms.content.length-1;o>=0;o--){var i=t.robot.synonyms.content[o];i.sid===n.sid&&(t.robot.synonyms.content.splice(o,1),t.robot.synonyms.content.unshift(n))}}),Object(Fc["a"])(ea,Xe,function(t,e){for(var n=e.sid,o=0;o<t.robot.synonyms.content.length;o++){var i=t.robot.synonyms.content[o];i.sid===n&&t.robot.synonyms.content.splice(o,1)}}),Object(Fc["a"])(ea,Qe,function(t,e){var n=e.taboos;t.taboos=n}),Object(Fc["a"])(ea,tn,function(t,e){var n=e.taboo,o=t.taboos.content.some(function(t){return t.sid===n.tid});o||t.taboos.content.unshift(n)}),Object(Fc["a"])(ea,Ze,function(t,e){for(var n=e.taboo,o=t.taboos.content.length-1;o>=0;o--){var i=t.taboos.content[o];i.tid===n.tid&&(t.taboos.content.splice(o,1),t.taboos.content.unshift(n))}}),Object(Fc["a"])(ea,en,function(t,e){for(var n=e.tid,o=0;o<t.taboos.content.length;o++){var i=t.taboos.content[o];i.tid===n&&t.taboos.content.splice(o,1)}}),Object(Fc["a"])(ea,nn,function(t,e){var n=e.workGroups;t.filter.workGroups=n}),Object(Fc["a"])(ea,on,function(t,e){var n=e.workGroupMembers;t.filter.workGroupMembers=n}),Object(Fc["a"])(ea,an,function(t,e){var n=e.leaveMessages;t.leaveMessages=n}),Object(Fc["a"])(ea,sn,function(t,e){for(var n=e.leaveMessage,o=t.leaveMessages.content.length-1;o>=0;o--){var i=t.leaveMessages.content[o];i.id===n.id&&(t.leaveMessages.content.splice(o,1),t.leaveMessages.content.unshift(n))}}),Object(Fc["a"])(ea,cn,function(t,e){for(var n=e.id,o=0;o<t.leaveMessages.length;o++){var i=t.leaveMessages[o];i.id===n&&t.leaveMessages.content.splice(o,1)}}),Object(Fc["a"])(ea,rn,function(t,e){var n=e.articles;t.support.articles=n}),Object(Fc["a"])(ea,un,function(t,e){var n=e.article,o=t.support.articles.content.some(function(t){return t.id===n.id});o||t.support.articles.content.unshift(n)}),Object(Fc["a"])(ea,ln,function(t,e){for(var n=e.article,o=t.support.articles.content.length-1;o>=0;o--){var i=t.support.articles.content[o];i.id===n.id&&(t.support.articles.content.splice(o,1),t.support.articles.content.unshift(n))}}),Object(Fc["a"])(ea,_n,function(t,e){for(var n=e.articleId,o=t.support.articles.content.length-1;o>=0;o--){var i=t.support.articles.content[o];i.id===n&&t.support.articles.content.splice(o,1)}}),Object(Fc["a"])(ea,dn,function(t,e){var n=e.statistic;t.statistic.online_agent_count=n.onlineAgentCount,t.statistic.current_thread_count=n.currentThreadCount,t.statistic.current_queue_count=n.currentQueueCount,t.statistic.today_total_thread_count=n.todayTotalThreadCount,t.statistic.today_total_queue_count=n.todayTotalQueueCount,t.statistic.today_leave_queue_count=n.todayLeaveQueueCount,t.statistic.statistic_list=n.statisticList,t.statistic.statistic_detail_list=n.statisticDetailList}),Object(Fc["a"])(ea,fn,function(t,e){var n=e.detail;t.statistic.statistic_detail_list=n}),Object(Fc["a"])(ea,En,function(t,e){var n=e.threads;t.statistic.threads=n}),Object(Fc["a"])(ea,Tn,function(t,e){var n=e.rates;t.statistic.rates=n}),Object(Fc["a"])(ea,De,function(t,e){var n=e.roles;t.roles=n}),Object(Fc["a"])(ea,pn,function(t,e){var n=e.webs;t.webs=n}),Object(Fc["a"])(ea,mn,function(t,e){var n=e.web,o=t.webs.content.some(function(t){return t.id===n.id});o||t.webs.content.unshift(n)}),Object(Fc["a"])(ea,gn,function(t,e){for(var n=e.web,o=t.webs.content.length-1;o>=0;o--){var i=t.webs.content[o];i.id===n.id&&(t.webs.content.splice(o,1),t.webs.content.unshift(n))}}),Object(Fc["a"])(ea,In,function(t,e){for(var n=e.aid,o=t.webs.content.length-1;o>=0;o--){var i=t.webs.content[o];i.aid===n&&t.webs.content.splice(o,1)}}),Object(Fc["a"])(ea,Sn,function(t,e){var n=e.apps;t.apps=n}),Object(Fc["a"])(ea,hn,function(t,e){var n=e.app,o=t.apps.content.some(function(t){return t.id===n.id});o||t.apps.content.unshift(n)}),Object(Fc["a"])(ea,On,function(t,e){for(var n=e.app,o=t.apps.content.length-1;o>=0;o--){var i=t.apps.content[o];i.id===n.id&&(t.apps.content.splice(o,1),t.apps.content.unshift(n))}}),Object(Fc["a"])(ea,Nn,function(t,e){for(var n=e.aid,o=t.apps.content.length-1;o>=0;o--){var i=t.apps.content[o];i.aid===n&&t.apps.content.splice(o,1)}}),Object(Fc["a"])(ea,Cn,function(t,e){var n=e.mps;t.mps=n}),Object(Fc["a"])(ea,Rn,function(t,e){var n=e.mp,o=t.mps.content.some(function(t){return t.id===n.id});o||t.mps.content.unshift(n)}),Object(Fc["a"])(ea,An,function(t,e){for(var n=e.mp,o=t.mps.content.length-1;o>=0;o--){var i=t.mps.content[o];i.id===n.id&&(t.mps.content.splice(o,1),t.mps.content.unshift(n))}}),Object(Fc["a"])(ea,vn,function(t,e){for(var n=e.wid,o=t.mps.content.length-1;o>=0;o--){var i=t.mps.content[o];i.wid===n&&t.mps.content.splice(o,1)}}),Object(Fc["a"])(ea,bn,function(t,e){var n=e.minis;t.minis=n}),Object(Fc["a"])(ea,Un,function(t,e){var n=e.mini,o=t.minis.content.some(function(t){return t.id===n.id});o||t.minis.content.unshift(n)}),Object(Fc["a"])(ea,Pn,function(t,e){for(var n=e.mini,o=t.minis.content.length-1;o>=0;o--){var i=t.minis.content[o];i.id===n.id&&(t.minis.content.splice(o,1),t.minis.content.unshift(n))}}),Object(Fc["a"])(ea,kn,function(t,e){for(var n=e.wid,o=t.minis.content.length-1;o>=0;o--){var i=t.minis.content[o];i.wid===n&&t.minis.content.splice(o,1)}}),Object(Fc["a"])(ea,Pt,function(t,e){var n=e.token;t.passport.token=n,localStorage.access_token=n.access_token,localStorage.setItem(Ut,vt()(n))}),Object(Fc["a"])(ea,Mn,function(t){localStorage.removeItem("access_token"),localStorage.removeItem(Ut),t.passport.token.access_token=""}),Object(Fc["a"])(ea,yn,function(t,e){var n=e.topic,o=e.subscription,i=t.user.subscribed_topics.some(function(t){return n===t.topic});if(!i){var a={topic:n,subscription:o};t.user.subscribed_topics.push(a)}}),Object(Fc["a"])(ea,wn,function(t,e){for(var n=e.topic,o=t.user.subscribed_topics.length-1;o>=0;o--){var i=t.user.subscribed_topics[o];i.topic===n&&t.user.subscribed_topics.splice(o,1)}}),Object(Fc["a"])(ea,Dn,function(t){t.user.subscribed_topics=[]}),Object(Fc["a"])(ea,Gn,function(t,e){var n=e.view;t.current_main_view=n}),ea),xc={passport:{token:{access_token:"",expires_in:0,jti:"",refresh_token:"",scope:"",token_type:""}},user:{info:{uid:"",username:"",nickname:"",realName:"",avatar:"",email:"",mobile:"",subDomain:"",imStatus:"",acceptStatus:"",autoReplyContent:"",connectionStatus:"",roles:[]},current_chat_type:"thread",contacts:[],current_contact:{id:0,username:"",nickname:"",realName:"",avatar:"",email:"",mobile:""},groups:[],current_group:{id:0},show_authority:{home:!1,statistic:!1,chat:!0,thread:!0,visitor:!0,history:!0,monitor:!1,quality:!1,robot:!1,support:!1,setting:!0,feedback:!1,workorder:!1,callcenter:!1,crm:!1,wenjuan:!1,internal:!1,admin:!1,debug:!1,free:!1,try:!1,vip:!1},queues:{content:[]},subscribed_topics:[],threads:[],current_thread:{id:0,tid:"",content:"",timestamp:"",unreadCount:0,queue:Object,visitor:{uid:"",username:"",nickname:"",avatar:p.DEFAULT_WEB_AVATAR_URL},page:0,first:!0,last:!1,totalElements:0},browses:{content:[]},workGroups:[],messages:[],drafts:[],mores:[{uid:"",page:0,first:!0,last:!0,totalElements:1}],settings:{notification:!1,connection_status:"connecting"},fingerPrints:[],userTags:[]},statistic:{online_agent_count:0,current_thread_count:0,current_queue_count:0,today_total_thread_count:0,today_total_queue_count:0,today_leave_queue_count:0,statistic_list:[],statistic_detail_list:[],threads:[],rates:[]},roles:[],threads:[],histories:[],rates:[],messages:[],leaveMessages:[],statuses:[],queues:[],browses:[],monitors:[],qualities:[],agents:{content:[]},online_agents:{content:[]},workGroups:{content:[]},regions:{provinces:[],cities:[]},companies:{content:[]},categories:[],cuws:[{id:0,name:"我的",cuwChildren:[]},{id:-1,name:"公司",cuwChildren:[]},{id:-2,name:"默认",cuwChildren:[]}],current_company_cuw_category_id:0,robot:{answers:[],synonyms:[]},support:{articles:[],comments:[]},filter:{workGroups:[],workGroupMembers:[]},questionnaire:[],taboos:[],webs:[],apps:[],mps:[],minis:[],current_main_view:"",more_template:{username:0,page:0,last:!1},draft_templage:{thread_id:0,content:""},cuw_template:{id:0,type:"",title:"",content:"",children:[]},message_templage:{id:0,user:{username:"",nickname:"",avatar:""},type:"",role:"",content:"",pic_url:"",image_url:"",media_id:"",format:"",voice_url:"",length:0,is_played:!1,thumb_media_id:"",video_or_short_url:"",video_or_short_thumb_url:"",location_x:"",location_y:"",scale:"",label:"",title:"",description:"",url:"",client:"",thread:Object,timestamp:"",local_id:"",status:""},emotionWxTextMap:{"/::)":"[微笑]","/::~":"[撇嘴]","/::B":"[色]","/::|":"[发呆]","/:8-)":"[得意]","/::<":"[流泪]","/::$":"[害羞]","/::X":"[闭嘴]","/::Z":"[睡]","/::'(":"[大哭]","/::-|":"[尴尬]","/::@":"[发怒]","/::P":"[调皮]","/::D":"[呲牙]","/::O":"[惊讶]","/::(":"[难过]","/::+":"[酷]","/:-b":"[冷汗]","/::Q":"[抓狂]","/::T":"[吐]","/:,@P":"[偷笑]","/:,@-D":"[愉快]","/::d":"[白眼]","/:,@o":"[傲慢]","/::g":"[饥饿]","/:|-)":"[困]","/::!":"[惊恐]","/::L":"[流汗]","/::>":"[憨笑]","/::,@":"[悠闲]","/:,@f":"[奋斗]","/::-S":"[咒骂]","/:?":"[疑问]","/:,@x":"[嘘]","/:,@@":"[晕]","/::8":"[疯了]","/:,@!":"[衰]","/:!!!":"[骷髅]","/:xx":"[敲打]","/:bye":"[再见]","/:wipe":"[擦汗]","/:dig":"[抠鼻]","/:handclap":"[鼓掌]","/:&-(":"[糗大了]","/:B-)":"[坏笑]","/:<@":"[左哼哼]","/:@>":"[右哼哼]","/::-O":"[哈欠]","/:>-|":"[鄙视]","/:P-(":"[委屈]","/::’|":"[快哭]","/:X-)":"[阴险]","/::*":"[亲亲]","/:@x":"[吓]","/:8*":"[可怜]","/:pd":"[菜刀]","/:<W>":"[西瓜]","/:beer":"[啤酒]","/:basketb":"[篮球]","/:oo":"[乒乓]","/:coffee":"[咖啡]","/:eat":"[饭]","/:pig":"[猪头]","/:rose":"[玫瑰]","/:fade":"[凋谢]","/:showlove":"[嘴唇]","/:heart":"[爱心]","/:break":"[心碎]","/:cake":"[蛋糕]","/:li":"[闪电]","/:bome":"[炸弹]","/:kn":"[刀]","/:footb":"[足球]","/:ladybug":"[瓢虫]","/:shit":"[便便]","/:moon":"[月亮]","/:sun":"[太阳]","/:gift":"[礼物]","/:hug":"[拥抱]","/:strong":"[强]","/:weak":"[弱]","/:share":"[握手]","/:v":"[胜利]","/:@)":"[抱拳]","/:jj":"[勾引]","/:@@":"[拳头]","/:bad":"[差劲]","/:lvu":"[爱你]","/:no":"[No]","/:ok":"[OK]","/:love":"[爱情]","/:<L>":"[飞吻]","/:jump":"[跳跳]","/:shake":"[发抖]","/:<O>":"[怄火]","/:circle":"[转圈]","/:kotow":"[磕头]","/:turn":"[回头]","/:skip":"[跳绳]","/:oY":"[投降]","/:#-0":"[激动]","/:hiphot":"[乱舞]","/:kiss":"[献吻]","/:<&":"[左太极]","/:&>":"[右太极]"},emotionWxMap:{"/::)":"100.gif","/::~":"101.gif","/::B":"102.gif","/::|":"103.gif","/:8-)":"104.gif","/::<":"105.gif","/::$":"106.gif","/::X":"107.gif","/::Z":"108.gif","/::'(":"109.gif","/::-|":"110.gif","/::@":"111.gif","/::P":"112.gif","/::D":"113.gif","/::O":"114.gif","/::(":"115.gif","/::+":"116.gif","/:-b":"117.gif","/::Q":"118.gif","/::T":"119.gif","/:,@P":"120.gif","/:,@-D":"121.gif","/::d":"122.gif","/:,@o":"123.gif","/::g":"124.gif","/:|-)":"125.gif","/::!":"126.gif","/::L":"127.gif","/::>":"128.gif","/::,@":"129.gif","/:,@f":"130.gif","/::-S":"131.gif","/:?":"132.gif","/:,@x":"133.gif","/:,@@":"134.gif","/::8":"135.gif","/:,@!":"136.gif","/:!!!":"137.gif","/:xx":"138.gif","/:bye":"139.gif","/:wipe":"140.gif","/:dig":"141.gif","/:handclap":"142.gif","/:&-(":"143.gif","/:B-)":"144.gif","/:<@":"145.gif","/:@>":"146.gif","/::-O":"147.gif","/:>-|":"148.gif","/:P-(":"149.gif","/::’|":"150.gif","/:X-)":"151.gif","/::*":"152.gif","/:@x":"153.gif","/:8*":"154.gif","/:pd":"155.gif","/:<W>":"156.gif","/:beer":"157.gif","/:basketb":"158.gif","/:oo":"159.gif","/:coffee":"160.gif","/:eat":"161.gif","/:pig":"162.gif","/:rose":"163.gif","/:fade":"164.gif","/:showlove":"165.gif","/:heart":"166.gif","/:break":"167.gif","/:cake":"168.gif","/:li":"169.gif","/:bome":"170.gif","/:kn":"171.gif","/:footb":"172.gif","/:ladybug":"173.gif","/:shit":"174.gif","/:moon":"175.gif","/:sun":"176.gif","/:gift":"177.gif","/:hug":"178.gif","/:strong":"179.gif","/:weak":"180.gif","/:share":"181.gif","/:v":"182.gif","/:@)":"183.gif","/:jj":"184.gif","/:@@":"185.gif","/:bad":"186.gif","/:lvu":"187.gif","/:no":"188.gif","/:ok":"189.gif","/:love":"190.gif","/:<L>":"191.gif","/:jump":"192.gif","/:shake":"193.gif","/:<O>":"194.gif","/:circle":"195.gif","/:kotow":"196.gif","/:turn":"197.gif","/:skip":"198.gif","/:oY":"199.gif","/:#-0":"200.gif","/:hiphot":"201.gif","/:kiss":"202.gif","/:<&":"203.gif","/:&>":"204.gif"},emotionMap:{"[微笑]":"100.gif","[撇嘴]":"101.gif","[色]":"102.gif","[发呆]":"103.gif","[得意]":"104.gif","[流泪]":"105.gif","[害羞]":"106.gif","[闭嘴]":"107.gif","[睡]":"108.gif","[大哭]":"109.gif","[尴尬]":"110.gif","[发怒]":"111.gif","[调皮]":"112.gif","[呲牙]":"113.gif","[惊讶]":"114.gif","[难过]":"115.gif","[酷]":"116.gif","[冷汗]":"117.gif","[抓狂]":"118.gif","[吐]":"119.gif","[偷笑]":"120.gif","[愉快]":"121.gif","[白眼]":"122.gif","[傲慢]":"123.gif","[饥饿]":"124.gif","[困]":"125.gif","[惊恐]":"126.gif","[流汗]":"127.gif","[憨笑]":"128.gif","[悠闲]":"129.gif","[奋斗]":"130.gif","[咒骂]":"131.gif","[疑问]":"132.gif","[嘘]":"133.gif","[晕]":"134.gif","[疯了]":"135.gif","[衰]":"136.gif","[骷髅]":"137.gif","[敲打]":"138.gif","[再见]":"139.gif","[擦汗]":"140.gif","[抠鼻]":"141.gif","[鼓掌]":"142.gif","[糗大了]":"143.gif","[坏笑]":"144.gif","[左哼哼]":"145.gif","[右哼哼]":"146.gif","[哈欠]":"147.gif","[鄙视]":"148.gif","[委屈]":"149.gif","[快哭]":"150.gif","[阴险]":"151.gif","[亲亲]":"152.gif","[吓]":"153.gif","[可怜]":"154.gif","[菜刀]":"155.gif","[西瓜]":"156.gif","[啤酒]":"157.gif","[篮球]":"158.gif","[乒乓]":"159.gif","[咖啡]":"160.gif","[饭]":"161.gif","[猪头]":"162.gif","[玫瑰]":"163.gif","[凋谢]":"164.gif","[嘴唇]":"165.gif","[爱心]":"166.gif","[心碎]":"167.gif","[蛋糕]":"168.gif","[闪电]":"169.gif","[炸弹]":"170.gif","[刀]":"171.gif","[足球]":"172.gif","[瓢虫]":"173.gif","[便便]":"174.gif","[月亮]":"175.gif","[太阳]":"176.gif","[礼物]":"177.gif","[拥抱]":"178.gif","[强]":"179.gif","[弱]":"180.gif","[握手]":"181.gif","[胜利]":"182.gif","[抱拳]":"183.gif","[勾引]":"184.gif","[拳头]":"185.gif","[差劲]":"186.gif","[爱你]":"187.gif","[No]":"188.gif","[OK]":"189.gif","[爱情]":"190.gif","[飞吻]":"191.gif","[跳跳]":"192.gif","[发抖]":"193.gif","[怄火]":"194.gif","[转圈]":"195.gif","[磕头]":"196.gif","[回头]":"197.gif","[跳绳]":"198.gif","[投降]":"199.gif","[激动]":"201.gif","[乱舞]":"202.gif","[献吻]":"203.gif","[左太极]":"204.gif","[右太极]":"205.gif"},emojis:[{title:"[微笑]",file:"100.gif"},{title:"[撇嘴]",file:"101.gif"},{title:"[色]",file:"102.gif"},{title:"[发呆]",file:"103.gif"},{title:"[得意]",file:"104.gif"},{title:"[流泪]",file:"105.gif"},{title:"[害羞]",file:"106.gif"},{title:"[闭嘴]",file:"107.gif"},{title:"[睡]",file:"108.gif"},{title:"[大哭]",file:"109.gif"},{title:"[尴尬]",file:"110.gif"},{title:"[发怒]",file:"111.gif"},{title:"[调皮]",file:"112.gif"},{title:"[呲牙]",file:"113.gif"},{title:"[惊讶]",file:"114.gif"},{title:"[难过]",file:"115.gif"},{title:"[酷]",file:"116.gif"},{title:"[冷汗]",file:"117.gif"},{title:"[抓狂]",file:"118.gif"},{title:"[吐]",file:"119.gif"},{title:"[偷笑]",file:"120.gif"},{title:"[愉快]",file:"121.gif"},{title:"[白眼]",file:"122.gif"},{title:"[傲慢]",file:"123.gif"},{title:"[饥饿]",file:"124.gif"},{title:"[困]",file:"125.gif"},{title:"[惊恐]",file:"126.gif"},{title:"[流汗]",file:"127.gif"},{title:"[憨笑]",file:"128.gif"},{title:"[悠闲]",file:"129.gif"},{title:"[奋斗]",file:"130.gif"},{title:"[咒骂]",file:"131.gif"},{title:"[疑问]",file:"132.gif"},{title:"[嘘]",file:"133.gif"},{title:"[晕]",file:"134.gif"},{title:"[疯了]",file:"135.gif"},{title:"[衰]",file:"136.gif"},{title:"[骷髅]",file:"137.gif"},{title:"[敲打]",file:"138.gif"},{title:"[再见]",file:"139.gif"},{title:"[擦汗]",file:"140.gif"},{title:"[抠鼻]",file:"141.gif"},{title:"[鼓掌]",file:"142.gif"},{title:"[糗大了]",file:"143.gif"},{title:"[坏笑]",file:"144.gif"},{title:"[左哼哼]",file:"145.gif"},{title:"[右哼哼]",file:"146.gif"},{title:"[哈欠]",file:"147.gif"},{title:"[鄙视]",file:"148.gif"},{title:"[委屈]",file:"149.gif"},{title:"[快哭]",file:"150.gif"},{title:"[阴险]",file:"151.gif"},{title:"[亲亲]",file:"152.gif"},{title:"[吓]",file:"153.gif"}]};a["default"].use(E["a"]);var jc=!1,Yc=new E["a"].Store({state:xc,getters:o,actions:i,mutations:Vc,strict:jc}),Hc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-auth"}},[n("el-container",[n("el-main",[n("transition",{attrs:{mode:"out-in","enter-active-class":"fadeIn","leave-active-class":"fadeOut",appear:""}},[n("router-view",{staticClass:"animated"})],1)],1)],1)],1)},Wc=[],$c={name:"bd-auth"},zc=$c,qc=(n("1485"),Object(l["a"])(zc,Hc,Wc,!1,null,"529f1a6b",null));qc.options.__file="Auth.vue";var Kc=qc.exports,Jc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-dashboard"}},[n("el-container",[n("el-aside",{staticStyle:{height:"100%"},attrs:{width:"65px"}},[n("bd-side")],1),n("el-main",[n("transition",{attrs:{mode:"out-in","enter-active-class":"fadeIn","leave-active-class":"fadeOut",appear:""}},[n("router-view",{staticClass:"animated"})],1)],1)],1)],1)},Xc=[],Qc=n("cebc"),Zc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"left-side"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":t.headerColor,"text-color":"#fff","active-text-color":"#10b20a",collapse:t.isCollapse,router:!0},on:{open:t.handleOpen,close:t.handleClose}},[n("el-menu-item",{attrs:{index:"/admin/setting"}},[n("i",[n("img",{staticStyle:{"margin-left":"-10px"},attrs:{src:t.userInfo.avatar,width:"45px",height:"45px"}})]),n("span",{staticStyle:{"margin-left":"5px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.userInfo.nickname))])]),n("el-menu-item",{attrs:{index:"/admin/chat"}},[n("i",{staticClass:"iconfont icon-chatbubble"}),n("span",{staticStyle:{"margin-left":"5px"},attrs:{slot:"title"},slot:"title"},[t._v("会话列表")])]),n("el-menu-item",{attrs:{index:"/admin/contact"}},[n("i",{staticClass:"iconfont icon-contacts"}),n("span",{staticStyle:{"margin-left":"5px"},attrs:{slot:"title"},slot:"title"},[t._v("联系人")])]),n("el-submenu",{staticClass:"bd-more",attrs:{index:""}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont icon-moreclass"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("更多")])]),n("el-menu-item",{attrs:{index:"/admin/setting"}},[n("i",{staticClass:"iconfont icon-setting"}),n("span",{staticStyle:{"margin-left":"5px"},attrs:{slot:"title"},slot:"title"},[t._v(" 设置")])]),n("el-menu-item",{attrs:{index:"/admin/setting"}},[t.connecting?n("i",{staticClass:"el-icon-loading"}):t._e(),t.connected?n("i",{staticClass:"iconfont icon-ok"}):t._e(),t.disconnected?n("i",{staticClass:"iconfont icon-error"}):t._e(),t.connecting?n("span",{staticStyle:{"margin-left":"5px"}},[t._v("连接中...")]):t._e(),t.connected?n("span",{staticStyle:{"margin-left":"5px"}},[t._v("连接成功")]):t._e(),t.disconnected?n("span",{staticStyle:{"margin-left":"5px"}},[t._v("连接断开")]):t._e()])],2)],1)],1)},tr=[],er={name:"bd-aside",data:function(){return{isCollapse:!0,showSupport:p.SHOW_SUPPORT,headerColor:"#3f3f3f"}},computed:Object(Qc["a"])({},Object(E["c"])(["userInfo","connectionStatus","showAuthority"]),{currentYear:function(){return(new Date).getFullYear()},connecting:function(){return this.connectionStatus===p.STOMP_CONNECTION_STATUS_CONNECTING},connected:function(){return this.connectionStatus===p.STOMP_CONNECTION_STATUS_CONNECTED},disconnected:function(){return this.connectionStatus===p.STOMP_CONNECTION_STATUS_DISCONNECTED},connectingImage:function(){return p.CONNECTING_IMAGE},connectedImage:function(){return p.CONNCTED_IMAGE},disconnectedImage:function(){return p.DISCONNECTED_IMAGE}}),methods:{handleOpen:function(t,e){},handleClose:function(t,e){}},created:function(){var t=localStorage.headerColor;null!==t&&void 0!==t&&(this.headerColor=t)},mounted:function(){var t=this;Bn.$on("collapse",function(e){t.isCollapse=e})}},nr=er,or=(n("0630"),Object(l["a"])(nr,Zc,tr,!1,null,"0cec2b20",null));or.options.__file="BdSide.vue";var ir=or.exports,ar={name:"bd-dashboard",components:{BdSide:ir},computed:Object(Qc["a"])({},Object(E["c"])(["accessToken","userInfo","contacts"])),methods:Object(Qc["a"])({},Object(E["b"])(["init"])),created:function(){this.init()},mounted:function(){}},sr=ar,cr=(n("3563"),Object(l["a"])(sr,Jc,Xc,!1,null,"137e3c9d",null));cr.options.__file="Dashboard.vue";var rr=cr.exports,ur=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-login"}},[n("el-main",[n("el-row",[n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content"})]),n("el-col",{attrs:{span:8}},[n("el-form",{ref:"loginForm",attrs:{model:t.loginForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"邮箱",clearable:""},model:{value:t.loginForm.email,callback:function(e){t.$set(t.loginForm,"email",e)},expression:"loginForm.email"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{type:"password","auto-complete":"off",placeholder:"密码",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onEnter(e):null}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",loading:t.logining},on:{click:t.login}},[t._v("登录")]),n("el-button",{on:{click:t.register}},[t._v("注册")])],1)],1)],1),n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content"})])],1)],1)],1)},lr=[],_r=(n("a481"),{name:"bd-login",data:function(){return{activeIndex:"0",errorCode:0,is400:!1,isIp:p.IS_IP,logining:!1,loginForm:{sub_domain:"vip",email:"",password:""},rules:{sub_domain:[{required:!0,message:"请输入企业号",trigger:"blur"}],email:[{required:!0,message:"请输入用户名/邮箱",trigger:"blur"},{min:5,message:"长度不能少于5个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},computed:Object(Qc["a"])({},Object(E["c"])(["mainHost"]),{subDomain:function(){return location.hostname.split(".").length>2?location.hostname.split(".")[0]:""}}),methods:Object(Qc["a"])({},Object(E["b"])(["updatePassportToken"]),{onEnter:function(){this.login()},login:function(){var t=this;this.$refs["loginForm"].validate(function(e){if(!e)return!1;var n=t.loginForm.email.toLowerCase();n.indexOf("@")<0&&(n=n+"@"+t.loginForm.sub_domain),t.logining=!0,Yn(n,t.loginForm.password,function(e){if(console.log("login success:",e),t.logining=!1,null!==e&&void 0!==e)p.IS_ELECTRON&&ipcRenderer.send("show-tray",""),localStorage.access_token=e.access_token,t.updatePassportToken(e),t.$router.replace("/admin");else{if(500===t.errorCode)return;t.is400||Bn.$emit(p.EVENT_BUS_LOGIN_TIMEOUT,"")}},function(e){console.log("login error:",e),t.logining=!1})})},register:function(){this.$router.replace("/register")}}),mounted:function(){var t=this;Bn.$on(p.EVENT_BUS_LOGIN_ERROR_400,function(e){t.is400=!0,t.errorCode=400,t.$message.error("用户名或密码错误")}),Bn.$on(p.EVENT_BUS_LOGIN_TIMEOUT,function(e){t.$message.error("登录超时，请检查网络或稍后重试")}),Bn.$on(p.EVENT_BUS_SERVER_ERROR_500,function(e){t.errorCode=500,t.$message.error("服务器错误")})}}),dr=_r,fr=(n("57d9"),Object(l["a"])(dr,ur,lr,!1,null,"4b3add22",null));fr.options.__file="BdLogin.vue";var Er=fr.exports,Tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-register"}},[n("el-main",[t.firstStep?n("el-row",[n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content"})]),n("el-col",{attrs:{span:8}},[n("el-form",{ref:"emailForm",attrs:{model:t.emailForm,"status-icon":"",rules:t.registerRoles,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{type:"email",placeholder:"请输入邮箱",clearable:""},model:{value:t.emailForm.email,callback:function(e){t.$set(t.emailForm,"email",e)},expression:"emailForm.email"}},[n("el-button",{attrs:{slot:"append",loading:t.emailButtonCountingDown},on:{click:t.getEmailCode},slot:"append"},[t._v(t._s(t.emailButtonText))])],1)],1),n("el-form-item",{attrs:{label:"验证码",prop:"email_code"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入验证码","auto-complete":"off",clearable:""},model:{value:t.emailForm.email_code,callback:function(e){t.$set(t.emailForm,"email_code",e)},expression:"emailForm.email_code"}})],1),n("el-form-item",[n("el-button",{on:{click:t.routeLogin}},[t._v("登录")]),n("el-button",{attrs:{type:"primary"},on:{click:t.nextSecondStep}},[t._v("注册")])],1)],1)],1),n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content"})])],1):t._e()],1)],1)},pr=[],mr=n("e814"),gr=n.n(mr),Ir={name:"bd-register",data:function(){var t=this,e=function(e,n,o){Ln(t.emailForm.email,function(t){console.log(t),200===t.status_code?o():o(new Error("邮箱已经存在，请重新填写"))},function(t){console.log(t)})},n=function(e,n,o){gr()(n)!==t.emailServerCode?o(new Error("验证码错误")):o()},o=function(e,n,o){xn(t.subDomainForm.sub_domain,function(t){console.log(t),200===t.status_code?o():o(new Error("已经存在，请重新填写"))},function(t){console.log(t)})},i=function(e,n,o){""===n?o(new Error("请输入密码")):(""!==t.registerForm.rePassword&&t.$refs.registerForm.validateField("rePassword"),o())},a=function(e,n,o){n!==t.registerForm.password?o(new Error("两次输入密码不一致!")):o()};return{logining:!1,emailForm:{email:"",email_code:""},subDomainForm:{sub_domain:"vip"},registerForm:{password:"",rePassword:""},registerRoles:{email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"change"},{validator:e,trigger:"blur"}],email_code:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:n,trigger:"change"}],sub_domain:[{required:!0,message:"请输入二级域名",trigger:"blur"},{validator:o,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符之间",trigger:"blur"},{validator:i,trigger:"blur"}],rePassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:a,trigger:"blur"}]},emailServerCode:0,emailButtonCountingDown:!1,emailCountDownTime:0,firstStep:!0,secondStep:!1,thirdStep:!1,forthStep:!1}},computed:Object(Qc["a"])({},Object(E["c"])(["mainHost"]),{emailButtonText:function(){return this.emailCountDownTime>0?this.emailCountDownTime+"s后重新获取":"获取验证码"}}),watch:{emailCountDownTime:function(t){0===this.value&&(this.emailButtonCountingDown=!1)}},methods:Object(Qc["a"])({},Object(E["b"])(["updatePassportToken"]),{getEmailCode:function(){var t=this;this.$refs["emailForm"].validateField("email",function(e){if(console.log(e),e)return!1;Vn(t.emailForm.email,function(e){console.log(e),t.emailServerCode=e.data,t.emailButtonCountingDown=!0,t.emailCountDownTime=60,t.emailTimer(),t.$message({message:"发送成功",type:"success"})},function(e){console.log(e),t.$message.error("发送失败, 请重试: "+e)})})},emailTimer:function(){this.emailCountDownTime>0&&(this.emailCountDownTime--,setTimeout(this.emailTimer,1e3))},nextSecondStep:function(){var t=this;this.$refs["emailForm"].validate(function(e){if(!e)return!1;t.firstStep=!1,t.thirdStep=!0})},preFirstStep:function(){this.secondStep=!1,this.firstStep=!0},nextThirdStep:function(){var t=this;this.$refs["subDomainForm"].validate(function(e){if(!e)return!1;t.secondStep=!1,t.thirdStep=!0})},preSecondStep:function(){this.thirdStep=!1,this.firstStep=!0},register:function(){var t=this;this.$refs["registerForm"].validate(function(e){if(!e)return!1;t.logining=!0,jn(t.emailForm.email.toLowerCase(),t.registerForm.password,function(e){console.log("register success:",e),t.subDomainForm.sub_domain=e.data.subDomain,t.$message({message:"注册成功",type:"success"}),t.thirdStep=!1,t.forthStep=!0,t.logining=!1},function(e){console.log("register error:",e),t.logining=!1})})},login:function(){var t=this;Yn(this.emailForm.email.toLowerCase(),this.registerForm.password,function(e){console.log("login success:",e),t.logining=!1,localStorage.access_token=e.access_token,t.updatePassportToken(e),t.$router.replace("/admin")},function(e){console.log("login error:",e),t.logining=!1})},routeLogin:function(){this.$router.replace("/login")}})},Sr=Ir,hr=(n("60d1"),Object(l["a"])(Sr,Tr,pr,!1,null,"0df45dbc",null));hr.options.__file="BdRegister.vue";var Or=hr.exports,Nr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-forget"}},[n("el-main",[t.firstStep?n("el-row",[n("el-col",{attrs:{span:8}},[n("div",{staticClass:"grid-content"})]),n("el-col",{attrs:{span:6}},[n("el-form",{ref:"emailForm",attrs:{model:t.emailForm,"status-icon":"",rules:t.forgetRoles,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{type:"email",placeholder:"请输入邮箱",clearable:""},model:{value:t.emailForm.email,callback:function(e){t.$set(t.emailForm,"email",e)},expression:"emailForm.email"}},[n("el-button",{attrs:{slot:"append",loading:t.emailButtonCountingDown},on:{click:t.getEmailCode},slot:"append"},[t._v(t._s(t.emailButtonText))])],1)],1),n("el-form-item",{attrs:{label:"验证码",prop:"email_code"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入验证码","auto-complete":"off",clearable:""},model:{value:t.emailForm.email_code,callback:function(e){t.$set(t.emailForm,"email_code",e)},expression:"emailForm.email_code"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.nextSecondStep}},[t._v("下一步")])],1)],1)],1),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"grid-content"})])],1):t._e(),t.secondStep?n("el-row",[n("el-col",{attrs:{span:8}},[n("div",{staticClass:"grid-content"})]),n("el-col",{attrs:{span:6}},[n("el-form",{ref:"passwordForm",attrs:{model:t.passwordForm,"status-icon":"",rules:t.forgetRoles,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{type:"password","auto-complete":"off",clearable:""},model:{value:t.passwordForm.password,callback:function(e){t.$set(t.passwordForm,"password",e)},expression:"passwordForm.password"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"rePassword"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{type:"password","auto-complete":"off",clearable:""},model:{value:t.passwordForm.rePassword,callback:function(e){t.$set(t.passwordForm,"rePassword",e)},expression:"passwordForm.rePassword"}})],1),n("el-form-item",[n("el-button",{on:{click:t.preSecondStep}},[t._v("上一步")]),n("el-button",{attrs:{type:"primary"},on:{click:t.changePassword}},[t._v("修改密码")])],1)],1)],1),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"grid-content"})])],1):t._e()],1)],1)},Cr=[],Rr={name:"bd-forget",data:function(){var t=this,e=function(e,n,o){Fn(t.emailForm.email,function(t){console.log(t),200===t.status_code?o():o(new Error("邮箱不存在，请重新填写"))},function(t){console.log(t)})},n=function(e,n,o){gr()(n)!==t.emailServerCode?o(new Error("验证码错误")):o()},o=function(e,n,o){""===n?o(new Error("请输入密码")):(""!==t.passwordForm.rePassword&&t.$refs.passwordForm.validateField("rePassword"),o())},i=function(e,n,o){n!==t.passwordForm.password?o(new Error("两次输入密码不一致!")):o()};return{emailForm:{email:"",email_code:""},passwordForm:{password:"",rePassword:""},forgetRoles:{email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"change"},{validator:e,trigger:"blur"}],email_code:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:n,trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符之间",trigger:"blur"},{validator:o,trigger:"blur"}],rePassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:i,trigger:"blur"}]},emailServerCode:0,emailButtonCountingDown:!1,emailCountDownTime:0,firstStep:!0,secondStep:!1}},computed:{emailButtonText:function(){return this.emailCountDownTime>0?this.emailCountDownTime+"s后重新获取":"获取验证码"}},watch:{emailCountDownTime:function(t){0===this.value&&(this.emailButtonCountingDown=!1)}},methods:{getEmailCode:function(){var t=this;this.$refs["emailForm"].validateField("email",function(e){if(console.log(e),e)return!1;Vn(t.emailForm.email,function(e){console.log(e),t.emailServerCode=e.data,t.emailButtonCountingDown=!0,t.emailCountDownTime=60,t.emailTimer(),t.$message({message:"发送成功",type:"success"})},function(e){console.log(e),t.$message.error("发送失败, 请重试"+e)})})},emailTimer:function(){this.emailCountDownTime>0&&(this.emailCountDownTime--,setTimeout(this.emailTimer,1e3))},nextSecondStep:function(){var t=this;this.$refs["emailForm"].validate(function(e){if(!e)return!1;t.firstStep=!1,t.secondStep=!0})},preSecondStep:function(){this.firstStep=!0,this.secondStep=!1},changePassword:function(){var t=this;Hn(this.emailForm.email,this.passwordForm.password,function(e){console.log(e),200===e.status_code&&(t.$message({message:"修改成功, 请登录",type:"success"}),t.routeLogin())},function(t){console.log(t)})},routeLogin:function(){this.$router.replace("/login")}}},Ar=Rr,vr=(n("edd2"),Object(l["a"])(Ar,Nr,Cr,!1,null,"a08f669e",null));vr.options.__file="BdForget.vue";var br=vr.exports,Ur=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-chat"}},[n("el-container",[n("el-aside",{staticStyle:{height:"100%"},attrs:{width:"250px"}},[n("bd-aside")],1),n("el-main",[n("bd-main")],1)],1)],1)},Pr=[],kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-aside"}},[n("div",{staticClass:"thread-search"},[n("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini",placeholder:"搜索","suffix-icon":"el-icon-search",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(e){t.showCreateGroupDialog()}}})],1),n("div",{staticStyle:{height:"calc(100% - 100px)","overflow-y":"auto"}},t._l(t.filterdThreads,function(e){return n("li",{key:e.tid,staticClass:"list-item",class:{" active":e.tid===t.userCurrentThread.tid},on:{click:function(n){t.selectThread(e)}}},[n("div",{staticClass:"list-left"},[t.isTypeThread(e)?n("img",{staticClass:"avatar",attrs:{width:"40",height:"40",alt:e.visitor.nickname,src:e.visitor.avatar}}):t._e(),t.isTypeContact(e)?n("img",{staticClass:"avatar",attrs:{width:"40",height:"40",alt:e.contact.nickname,src:e.contact.avatar}}):t._e(),t.isTypeGroup(e)?n("img",{staticClass:"avatar",attrs:{width:"40",height:"40",alt:e.group.nickname,src:e.group.avatar}}):t._e()]),n("div",{staticClass:"list-right"},[n("div",{staticClass:"top"},[t.isTypeThread(e)?n("span",{staticClass:"nickname"},[t._v(t._s(e.visitor.nickname))]):t._e(),t.isTypeContact(e)?n("span",{staticClass:"nickname"},[t._v(t._s(e.contact.nickname))]):t._e(),t.isTypeGroup(e)?n("span",{staticClass:"nickname"},[t._v(t._s(e.group.nickname))]):t._e(),n("span",{staticClass:"timestamp"},[t._v("\n            "+t._s(t._f("time")(e.timestamp))+"\n            "),0!==e.unreadCount?n("span",{staticClass:"unreadCount"},[t._v(t._s(e.unreadCount))]):t._e()])]),n("div",{staticClass:"bottom"},[n("span",{staticClass:"content"},[t._v(t._s(e.content))])])])])}),0),n("audio",{attrs:{id:"audioPlay",src:t.soundUrl,hidden:"true"}}),n("el-dialog",{attrs:{title:"创建群组",visible:t.createGroupDialogVisible,width:"550px",center:""},on:{"update:visible":function(e){t.createGroupDialogVisible=e}}},[n("el-transfer",{attrs:{filterable:"","filter-placeholder":"请输入姓名",data:t.contactData,titles:["联系人","群成员"]},model:{value:t.selectedContacts,callback:function(e){t.selectedContacts=e},expression:"selectedContacts"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.createGroupDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.doCreateGroup}},[t._v("确 定")])],1)],1)],1)},yr=[],wr=(n("386d"),n("6762"),n("2fdb"),{name:"bd-aside",data:function(){return{search:"",soundUrl:p.SOUND_DINGDONG_URL,createGroupDialogVisible:!1,selectedContacts:[]}},computed:Object(Qc["a"])({},Object(E["c"])(["userThreads","userCurrentThread","userContacts"]),{filterdThreads:function(){var t=this;return this.userThreads.filter(function(e){return e.type===p.THREAD_TYPE_THREAD?e.visitor.nickname.includes(t.search)||e.content.includes(t.search):e.type===p.THREAD_TYPE_CONTACT?e.contact.nickname.includes(t.search)||e.content.includes(t.search):e.type===p.THREAD_TYPE_GROUP?e.group.nickname.includes(t.search)||e.content.includes(t.search):void 0})},contactData:function(){var t=[];return this.userContacts.forEach(function(e,n){t.push({label:e.realName,key:e.uid})}),t}}),methods:Object(Qc["a"])({},Object(E["b"])(["updateCurrentThread","updateContact","updateGroup","createGroup"]),{selectThread:function(t){this.updateCurrentThread(t)},isTypeThread:function(t){return t.type===p.THREAD_TYPE_THREAD},isTypeContact:function(t){return t.type===p.THREAD_TYPE_CONTACT},isTypeGroup:function(t){return t.type===p.THREAD_TYPE_GROUP},showCreateGroupDialog:function(){this.createGroupDialogVisible=!0},doCreateGroup:function(){if(this.createGroupDialogVisible=!1,0!==this.selectedContacts.length){for(var t=0,e=this.userInfo.realName,n=0;n<this.selectedContacts.length;n++)for(var o=this.selectedContacts[n],i=0;i<this.contacts.length;i++){var a=this.contacts[i];if(o===a.uid&&(e=e+","+a.realName,t++,t>2))break}var s={nickname:e,selectedContacts:this.selectedContacts};this.createGroup(s),this.selectedContacts=[]}}}),filters:{time:function(t){return"string"===typeof t?moment(t).format("MM-DD HH:mm"):t}}}),Dr=wr,Mr=(n("bd0a"),Object(l["a"])(Dr,kr,yr,!1,null,"1a03e518",null));Mr.options.__file="BdAside.vue";var Gr=Mr.exports,Br=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-main"}},[n("bd-top"),n("bd-message"),n("bd-input")],1)},Lr=[],Fr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-top"}},[t.isTypeThread(t.userCurrentThread)?n("div",[n("img",{staticClass:"avatar",attrs:{width:"35",height:"35",alt:t.userCurrentThread.visitor.nickname,src:t.userCurrentThread.visitor.avatar}}),n("span",{staticClass:"nickname"},[t._v(t._s(t.userCurrentThread.visitor.nickname))])]):t._e(),t.isTypeContact(t.userCurrentThread)?n("div",[n("img",{staticClass:"avatar",attrs:{width:"35",height:"35",alt:t.userCurrentThread.contact.nickname,src:t.userCurrentThread.contact.avatar}}),n("span",{staticClass:"nickname"},[t._v(t._s(t.userCurrentThread.contact.nickname))])]):t._e(),t.isTypeGroup(t.userCurrentThread)?n("div",[n("img",{staticClass:"avatar",attrs:{width:"35",height:"35",alt:t.userCurrentThread.group.nickname,src:t.userCurrentThread.group.avatar}}),n("span",{staticClass:"nickname"},[t._v(t._s(t.userCurrentThread.group.nickname))])]):t._e(),n("span",{staticClass:"wrapper"},[t.isTypeThread(t.userCurrentThread)?n("el-button",{attrs:{type:"warning",size:"mini",disabled:t.disabled},on:{click:function(e){t.addWorkorder()}}},[n("i",{staticClass:"iconfont icon-workorder",staticStyle:{"font-size":"10px"}}),t._v(" 工单")]):t._e(),t.isTypeThread(t.userCurrentThread)?n("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-sort",disabled:t.disabled},on:{click:function(e){t.showTransferChat()}}},[t._v("转接")]):t._e(),t.isTypeThread(t.userCurrentThread)?n("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-document",disabled:t.disabled},on:{click:function(e){t.showNoteDialog()}}},[t._v("备注")]):t._e(),t.isTypeThread(t.userCurrentThread)?n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close",disabled:t.disabled},on:{click:function(e){t.showCloseChat()}}},[t._v("关闭")]):t._e()],1),n("el-dialog",{attrs:{title:"备注",visible:t.noteDialogVisible,width:"30%","before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.noteDialogVisible=e}}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入备注内容"},model:{value:t.noteContent,callback:function(e){t.noteContent=e},expression:"noteContent"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.noteDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.doSaveNote}},[t._v("确 定")])],1)],1),n("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"转接会话给当前在线客服人员",width:"30%",visible:t.transferDialogVisible,"before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.transferDialogVisible=e}}},[n("el-table",{attrs:{data:t.contactTransferTableData,"empty-text":"无客服在线"}},[n("el-table-column",{attrs:{type:"index"}}),n("el-table-column",{attrs:{property:"realName",label:"客服名"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small",disabled:t.isTransferButtonDisabled(e.row.status)},on:{click:function(n){t.doTransferChat(e.$index,e.row)}}},[t._v("\n              转接\n            ")])]}}])})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.transferDialogVisible=!1}}},[t._v("取 消")])],1)],1),n("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"邀请其他在线客服人员加入会话",width:"30%",visible:t.inviteDialogVisible,"before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.inviteDialogVisible=e}}},[n("div",{staticClass:"invite-dialog-body"},[n("el-transfer",{attrs:{titles:["当前在线客服","被邀请客服"],data:t.contactInviteData},model:{value:t.invitedContactUserids,callback:function(e){t.invitedContactUserids=e},expression:"invitedContactUserids"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.inviteDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doInviteChat()}}},[t._v("确 定")])],1)])],1)},Vr=[],xr={name:"bd-top",data:function(){return{noteDialogVisible:!1,noteContent:"",transferDialogVisible:!1,inviteDialogVisible:!1,invitedContactUserids:[]}},computed:Object(Qc["a"])({},Object(E["c"])(["accessToken","userCurrentChatType","userCurrentThread","userCurrentContact","userCurrentGroup","userInfo","onlineAgents","showAuthority"]),{disabled:function(){return 0===this.userCurrentThread.id},contactTransferTableData:function(){for(var t=[],e=this.onlineAgents.content.length-1;e>=0;e--){var n=this.onlineAgents.content[e].uid,o=this.onlineAgents.content[e].robot;if(this.userInfo.uid!==n&&!o){var i=this.onlineAgents.content[e].realName,a=this.onlineAgents.content[e].acceptStatus,s={uid:n,realName:i,status:a};t.push(s)}}return t},contactInviteData:function(){for(var t=[],e=this.onlineAgents.content.length-1;e>=0;e--){var n=this.onlineAgents.content[e].uid,o=this.onlineAgents.content[e].robot;if(this.userInfo.uid!==n&&!o){var i=this.onlineAgents.content[e].realName,a=!1,s={key:n,label:i,disabled:a};t.push(s)}}return t}}),methods:Object(Qc["a"])({},Object(E["b"])(["inviteRate","closeThread","setNote","getOnlineAgents"]),{isTypeThread:function(t){return t.type===p.THREAD_TYPE_THREAD},isTypeContact:function(t){return t.type===p.THREAD_TYPE_CONTACT},isTypeGroup:function(t){return t.type===p.THREAD_TYPE_GROUP},showTransferChat:function(){this.transferDialogVisible=!0;var t={page:0,size:100};this.getOnlineAgents(t)},isTransferButtonDisabled:function(t){return!1},doTransferChat:function(t,e){var n=this,o=e.uid,i=this.userCurrentThread.tid;Eo(o,i,this.accessToken,function(t){console.log(t),200===t.status_code?(n.$message({message:"转接会话成功",type:"success"}),n.transferDialogVisible=!1):n.$message.error(t.message)},function(t){console.log(t),n.$message.error("转接会话错误")})},showNoteDialog:function(){console.log("备注"),this.noteDialogVisible=!0},doSaveNote:function(){console.log("save note");var t={uid:this.userCurrentThread.visitor.uid,value:this.noteContent};this.setNote(t),this.noteDialogVisible=!1},showInviteChat:function(){this.inviteDialogVisible=!0;var t={page:0,size:100};this.getOnlineAgents(t)},doInviteChat:function(){var t=this,e=this.userCurrentThread.tid;To(this.invitedContactUserids,e,this.accessToken,function(e){console.log(e),200===e.status_code?(t.$message({message:"邀请会话成功",type:"success"}),t.inviteDialogVisible=!1):t.$message.error(e.message)},function(e){console.log(e),t.$message.error("转接会话错误")})},showInviteRate:function(){this.inviteRate(this.userCurrentThread.tid)},showCloseChat:function(){var t=this;this.$confirm("确定要关闭会话?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.closeThread(t.userCurrentThread.tid)}).catch(function(){})},addWorkorder:function(){console.log("addWorkorder")},addCrm:function(){console.log("add crm")},handleClose:function(t){t()}})},jr=xr,Yr=(n("fab0"),Object(l["a"])(jr,Fr,Vr,!1,null,"1f98fc18",null));Yr.options.__file="BdTop.vue";var Hr=Yr.exports,Wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-message"}},[n("el-dialog",{attrs:{title:"查看大图",modal:!1,visible:t.imageDialogVisible,width:"40%","before-close":t.handleImageDialogClose},on:{"update:visible":function(e){t.imageDialogVisible=e}}},[n("span",[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"currentImage",src:t.currentImageUrl,alt:"[查看大图]"}})]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.imageDialogVisible=!1}}},[t._v("关闭")])],1)]),n("el-dialog",{attrs:{title:"语音播放器",modal:!1,width:"30%",visible:t.dialogTableVisible,center:""},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[n("iframe",{attrs:{src:t.player_url}})]),t.disabled?t._e():n("ul",{ref:"list",staticClass:"bd-message-ul"},t._l(t.messages,function(e){return n("li",{key:e.mid},[n("p",{staticClass:"timestamp"},[n("span",[t._v(t._s(t._f("datetime")(e.createdAt)))]),n("br"),t.is_type_notification(e)?n("span",[t._v(t._s(e.content))]):t._e()]),t.is_type_notification(e)?t._e():n("div",{staticClass:"main",class:{self:t.is_self(e)}},[t.show_header?n("img",{staticClass:"avatar",attrs:{width:"30",height:"30",src:e.user.avatar}}):t._e(),n("div",{staticClass:"nickname"},[t._v(t._s(e.user.nickname))]),t.is_type_text(e)?n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.replaceFace(e.content))}}):t._e(),t.is_type_robot(e)?n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.replaceFace(e.content))}}):t._e(),t.is_type_questionnaire(e)?n("div",{staticClass:"text"},[n("span",[t._v(t._s(e.questionnaire.questionnaireItems[0].title))]),t._l(e.questionnaire.questionnaireItems[0].questionnaireItemItems,function(e){return n("span",{key:e.id},[n("br"),n("span",{staticStyle:{color:"#007bff",cursor:"pointer"}},[t._v(t._s(e.content))])])})],2):t._e(),t.is_type_company(e)?n("div",{staticClass:"text"},[n("span",[t._v(t._s(e.content))]),t._l(e.company.countries,function(e){return n("span",{key:e.cid},[n("br"),n("span",{staticStyle:{color:"#007bff",cursor:"pointer"}},[t._v(t._s(e.name))])])})],2):t._e(),t.is_type_workGroup(e)?n("div",{staticClass:"text"},[n("span",[t._v(t._s(e.content))]),t._l(e.workGroups,function(e){return n("span",{key:e.wid},[n("br"),n("span",{staticStyle:{color:"#007bff",cursor:"pointer"}},[t._v(t._s(e.nickname))])])})],2):t._e(),t.is_type_image(e)?n("div",{staticClass:"text"},[n("img",{staticStyle:{"padding-top":"10px","padding-bottom":"10px",width:"100px",height:"100px"},attrs:{src:e.imageUrl,alt:"[图片]"},on:{click:function(n){t.imageClicked(e.imageUrl)}}})]):t._e(),t.is_type_file(e)?n("div",{staticClass:"text"},[n("img",{staticStyle:{"padding-top":"10px","padding-bottom":"10px",width:"25px",height:"25px"},attrs:{src:"https://www.bytedesk.com/img/input/file.png",alt:"[文件]"},on:{click:function(n){t.fileClicked(e.fileUrl)}}}),n("span",[n("a",{attrs:{href:e.fileUrl,target:"_blank"}},[t._v("查看文件")])])]):t._e(),t.is_type_voice(e)?n("div",{staticClass:"text"},[n("img",{staticStyle:{"padding-top":"10px","padding-bottom":"10px",width:"25px",height:"20px"},attrs:{src:"https://www.bytedesk.com/img/input/voice_received.png",alt:"[语音]"},on:{click:function(n){t.voiceClicked(e.voiceUrl)}}})]):t._e(),t.is_type_video(e)?n("div",{staticClass:"text"},[t._v(t._s(e.videoOrShortUrl))]):t._e(),t.is_type_shortvideo(e)?n("div",{staticClass:"text"},[t._v(t._s(e.videoOrShortThumbUrl))]):t._e(),t.is_type_location(e)?n("div",{staticClass:"text"},[t._v(t._s(e.label))]):t._e(),t.is_type_link(e)?n("div",{staticClass:"text"},[t._v(t._s(e.title))]):t._e(),t.is_type_event(e)?n("div",{staticClass:"text"},[t._v(t._s(e.content))]):t._e(),t.is_self(e)?n("div",{staticClass:"status"},[t.is_sending(e)?n("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"10px"}}):t._e(),t.is_stored(e)?n("i",{staticClass:"fa fa-times-circle",staticStyle:{"font-size":"10px"}}):t._e(),t.is_received(e)?n("i",{staticStyle:{"font-size":"10px"}},[t._v("已收到")]):t._e(),t.is_read(e)?n("i",{staticStyle:{"font-size":"10px"}},[t._v("已读")]):t._e(),t.is_error(e)?n("i",{staticClass:"iconfont icon-error",staticStyle:{"font-size":"10px"}}):t._e()]):t._e()])])}),0)],1)},$r=[],zr=(n("4917"),n("f559"),{name:"bd-message",data:function(){return{imageDialogVisible:!1,currentImageUrl:"",currentVoiceUrl:"",dialogTableVisible:!1,emojiBaseUrl:p.EMOJI_BASE_URL,electron:p.IS_ELECTRON,transformDegree:0}},computed:Object(Qc["a"])({},Object(E["c"])(["userInfo","userCurrentThread","userCurrentContact","userCurrentGroup","messages","showAuthority"]),Object(E["d"])(["emotionMap","emotionWxMap"]),{disabled:function(){return 0===this.userCurrentThread.id},show_header:function(){return!0}}),methods:Object(Qc["a"])({},Object(E["b"])(["getMessages"]),{imageClicked:function(t){this.currentImageUrl=t,this.imageDialogVisible=!0},fileClicked:function(t){this.electron?ipcRenderer.send("open-external-url",t):window.open(t)},voiceClicked:function(t){this.currentVoiceUrl=t,window.open(t)},transformLarger:function(){console.log("transformLarger");var t=document.getElementById("currentImage");t.width=1.1*t.width,t.height=1.1*t.height},transformSmaller:function(){console.log("transformSmaller");var t=document.getElementById("currentImage");t.width=.9*t.width,t.height=.9*t.height},transformLeft:function(){this.transformDegree-=90,document.getElementById("currentImage").style.transform="rotate("+this.transformDegree+"deg)"},transformRight:function(){this.transformDegree+=90,document.getElementById("currentImage").style.transform="rotate("+this.transformDegree+"deg)"},downloadImage:function(){console.log("downloadImage:",this.currentImageUrl),ipcRenderer.send("save-image-dialog",this.currentImageUrl)},is_self:function(t){return!t.user.visitor},is_sending:function(t){return t.status===p.MESSAGE_STATUS_SENDING},is_stored:function(t){return t.status===p.MESSAGE_STATUS_STORED},is_received:function(t){return t.status===p.MESSAGE_STATUS_RECEIVED},is_error:function(t){return t.status===p.MESSAGE_STATUS_ERROR},is_read:function(t){return t.status===p.MESSAGE_STATUS_READ},is_type_text:function(t){return t.type===p.MESSAGE_TYPE_TEXT||t.type===p.MESSAGE_TYPE_NOTIFICATION_THREAD},is_type_robot:function(t){return t.type===p.MESSAGE_TYPE_ROBOT},is_type_image:function(t){return t.type===p.MESSAGE_TYPE_IMAGE},is_type_file:function(t){return t.type===p.MESSAGE_TYPE_FILE},is_type_voice:function(t){return t.type===p.MESSAGE_TYPE_VOICE},is_type_video:function(t){return t.type===p.MESSAGE_TYPE_VIDEO},is_type_shortvideo:function(t){return t.type===p.MESSAGE_TYPE_SHORTVIDEO},is_type_location:function(t){return t.type===p.MESSAGE_TYPE_LOCATION},is_type_link:function(t){return t.type===p.MESSAGE_TYPE_LINK},is_type_event:function(t){return t.type===p.MESSAGE_TYPE_EVENT},is_type_questionnaire:function(t){return t.type===p.MESSAGE_TYPE_QUESTIONNAIRE},is_type_company:function(t){return t.type===p.MESSAGE_TYPE_COMPANY},is_type_workGroup:function(t){return t.type===p.MESSAGE_TYPE_WORK_GROUP},is_type_notification:function(t){return t.type!==p.MESSAGE_TYPE_NOTIFICATION_THREAD&&t.type.startsWith(p.MESSAGE_TYPE_NOTIFICATION)},player_url:function(){return p.VOICE_PLAYER_BASE_URL+this.currentVoiceUrl},replaceFace:function(t){if(null==t||void 0===t)return t;var e=this.replaceWeChatFace(t),n=this.emotionMap,o=/\[[\u4E00-\u9FA5NoOK]+\]/g,i=e.match(o),a=e;if(i)for(var s=0;s<i.length;s++)a=a.replace(i[s],"<img height='25px' width='25px' style='margin-bottom:4px;' src='"+this.emojiBaseUrl+n[i[s]]+"'>");return a},replaceWeChatFace:function(t){if(null==t||void 0===t)return t;var e=this.emotionWxMap,n=/\/::\)|\/::~|\/::B|\/::\||\/:8-\)|\/::<|\/::\$|\/::X|\/::Z|\/::'\\(|\/::-\||\/::@|\/::P|\/::D|\/::O|\/::\\(|\/::\+|\/:--b|\/::Q|\/::T|\/:,@P|\/:,@-D|\/::d|\/:,@o|\/::g|\/:\\|-\\)|\/::!|\/::L|\/::>|\/::,@|\/:,@f|\/::-S|\/:\\?|\/:,@x|\/:,@@|\/::8|\/:,@!|\/:!!!|\/:xx|\/:bye|\/:wipe|\/:dig|\/:handclap|\/:&-\\(|\/:B-\\)|\/:<@|\/:@>|\/::-O|\/:>-\\||\/:P-\\(|\/::'\\||\/:X-\\)|\/::\\*|\/:@x|\/:8\\*|\/:pd|\/:<W>|\/:beer|\/:basketb|\/:oo|\/:coffee|\/:eat|\/:pig|\/:rose|\/:fade|\/:showlove|\/:heart|\/:break|\/:cake|\/:li|\/:bome|\/:kn|\/:footb|\/:ladybug|\/:shit|\/:moon|\/:sun|\/:gift|\/:hug|\/:strong|\/:weak|\/:share|\/:v|\/:@\\)|\/:jj|\/:@@|\/:bad|\/:lvu|\/:no|\/:ok|\/:love|\/:<L>|\/:jump|\/:shake|\/:<O>|\/:circle|\/:kotow|\/:turn|\/:skip|\/:oY|\/:#-0|\/:hiphot|\/:kiss|\/:<&|\/:&>/g,o=t.match(n),i=t;if(o)for(var a=0;a<o.length;a++)i=i.replace(o[a],"<img height='25px' width='25px' style='margin-bottom:4px;' src='"+this.emojiBaseUrl+e[o[a]]+"'>");return i},handleImageDialogClose:function(t){t()},scrollToBottom:function(){var t=this;this.$nextTick(function(){var e=t.$refs.list;null!=e&&(e.scrollTop=e.scrollHeight)})}}),mounted:function(){var t=this;Bn.$on(p.EVENT_BUS_MESSAGE_SCROLL_TO_BOTTOM,function(){var e=t;e.$nextTick(function(){var t=e.$refs.list;null!=t&&(t.scrollTop=t.scrollHeight)})})},filters:{datetime:function(t){return"string"===typeof t?moment(t).format("YYYY-MM-DD HH:mm:ss"):t}}}),qr=zr,Kr=(n("fc69"),Object(l["a"])(qr,Wr,$r,!1,null,"aaa99032",null));Kr.options.__file="BdMessage.vue";var Jr=Kr.exports,Xr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-input"}},[n("div",{attrs:{id:"bd-toolbar"}},[n("li",{staticClass:"iconfont icon-emoji",attrs:{id:"bd-emoji"},on:{click:t.switchEmoji}}),n("transition",{attrs:{name:"showbox"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmoji,expression:"showEmoji"}],staticClass:"bd-emoji-box"},t._l(t.emojis,function(e){return n("li",{key:e.file},[n("img",{attrs:{src:t.emotionUrl(e.file),data:e.title},on:{click:function(n){t.emotionClicked(e.title)}}})])}),0)]),n("transition",{attrs:{name:"showbox"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInputTip,expression:"showInputTip"}],staticClass:"bd-input-tip"},[n("ul",t._l(t.inputTips,function(e){return n("li",{key:e,on:{click:function(n){t.inputTipClicked(e)}}},[t._v(t._s(e))])}),0)])]),n("el-upload",{staticClass:"bd-upload-image",attrs:{"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"on-exceed":t.handleExceed,"file-list":t.uploadedImageList,data:t.upload_data,name:t.upload_name,action:t.uploadImageServerUrl,"show-file-list":!1,"on-success":t.handleImageUploadSuccess,"before-upload":t.beforeImageUpload,disabled:t.disabled}},[n("li",{staticClass:"iconfont icon-image"})]),n("el-upload",{staticClass:"bd-upload-file",attrs:{"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"on-exceed":t.handleExceed,"file-list":t.uploadedImageList,data:t.upload_data,name:t.upload_name,action:t.uploadFileServerUrl,"show-file-list":!1,"on-success":t.handleFileUploadSuccess,"before-upload":t.beforeFileUpload,disabled:t.disabled}},[n("li",{staticClass:"iconfont icon-file"})]),t.inputTipVisible?n("li",{attrs:{id:"bd-tip"}},[t._v(t._s(t.previewContent))]):t._e(),n("el-button",{staticStyle:{float:"right","margin-top":"3px","margin-right":"15px"},attrs:{size:"mini",type:"text",disabled:t.disabled},on:{click:t.showHistoryMessages}},[t._v("历史消息")])],1),n("div",{attrs:{id:"bd-inputbox"}},[n("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},on:{input:t.onInputChange},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onKeyUp(e):null}},model:{value:t.inputContent,callback:function(e){t.inputContent=e},expression:"inputContent"}})],1),n("el-dialog",{attrs:{title:"拉入黑名单",visible:t.blockDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.blockDialogVisible=e}}},[n("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入拉黑理由"},model:{value:t.blockReason,callback:function(e){t.blockReason=e},expression:"blockReason"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.blockDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.doBlock}},[t._v("拉 黑")])],1)],1),n("el-dialog",{attrs:{title:"提示",visible:t.rtcDialogVisible,width:"40%","before-close":t.handleRtcDialogClose,center:""},on:{"update:visible":function(e){t.rtcDialogVisible=e}}},[n("div",{attrs:{id:"videos"}},[n("video",{staticStyle:{width:"320px",height:"240px"},attrs:{id:"localVideo",autoplay:"",muted:"",playsinline:""},domProps:{muted:!0}}),n("video",{staticStyle:{width:"320px",height:"240px"},attrs:{id:"remoteVideo",autoplay:"",playsinline:""}})]),n("div",{staticStyle:{"text-align":"center"},attrs:{id:"videoButtons"}},[t.isRtcInitiator&&!t.isRtcStarted?n("el-button",{on:{click:t.startInviteVideoCall}},[t._v("邀请视频会话")]):t._e(),t.isRtcStarted?n("el-button",{on:{click:t.hangUpCall}},[t._v("结束会话")]):t._e(),t.isRtcInitiator||t.isRtcStarted?t._e():n("el-button",{on:{click:t.acceptVideoCall}},[t._v("接受视频会话")]),t.isRtcInitiator||t.isRtcStarted?t._e():n("el-button",{on:{click:t.rejectVideoCall}},[t._v("拒绝视频会话")])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.closeRtcDialog}},[t._v("关闭")])],1)]),n("el-dialog",{attrs:{title:"历史聊天记录",visible:t.messageDialogVisible,width:"50%",center:""},on:{"update:visible":function(e){t.messageDialogVisible=e}}},[n("bd-message"),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.messageDialogVisible=!1}}},[t._v("关闭")])],1)],1)],1)},Qr=[],Zr={name:"bd-input",data:function(){return{show_emoji:!1,inputContent:"",previewContent:"",blockReason:"",upload_headers:{"X-CSRF-TOKEN":"","X-Requested-With":"XMLHttpRequest",Accept:"application/json",Authorization:"Bearer "},upload_data:{file_name:"test.png",username:""},upload_name:"file",uploadImageServerUrl:p.UPLOAD_IMAGE_URL,uploadFileServerUrl:p.UPLOAD_FILE_URL,uploadedImageList:[],uploadFileType:"",inputTipVisible:!1,messageDialogVisible:!1,searchMessage:"",blockDialogVisible:!1,mediaStreamConstraints:{audio:!0,video:!0},videoOfferSdpConstraints:{offerToReceiveAudio:!0,offerToReceiveVideo:!0},audioOfferSdpConstraints:{offerToReceiveAudio:!0,offerToReceiveVideo:!1},rtcStartCallTimestamp:null,isRtcInitiator:!1,isRtcStarted:!1,rtcDialogVisible:!1,rtcPeerConnection:null,rtcLocalVideo:null,rtcRemoteVideo:null,rtcLocalStream:null,rtcRemoteStream:null,rtcIceCandidate:null}},components:{BdMessage:Jr},computed:Object(Qc["a"])({},Object(E["c"])(["userInfo","userThreads","userCurrentThread","userCurrentContact","userCurrentGroup","userCurrentChatType","showAuthority","allCuws"]),Object(E["d"])(["emojis"]),{showEmoji:function(){return!this.disabled&&this.show_emoji},showInputTip:function(){return!this.disabled&&this.inputContent.length>0&&this.inputTips.length>0},inputTips:function(){for(var t=[],e=0;e<this.allCuws.length;e++)for(var n=this.allCuws[e],o=0;o<n.cuwChildren.length;o++)for(var i=n.cuwChildren[o],a=0;a<i.cuwChildren.length;a++){var s=i.cuwChildren[a];this.inputContent.length>0&&-1!==s.name.indexOf(this.inputContent)&&t.push(s.name)}return t},disabled:function(){return 0===this.userCurrentThread.id},sendButtonDisabled:function(){return this.disabled||0===this.inputContent.trim().length},prePageButtonDisabled:function(){return this.userCurrentThread.first},nextPageButtonDisabled:function(){return this.userCurrentThread.last},showCaptureFunction:function(){return p.IS_ELECTRON&&this.showAuthority.debug}}),methods:Object(Qc["a"])({},Object(E["b"])(["updateCurrentThread","inviteRate","sendTextMessage","sendImageMessage","sendFileMessage","addBlock","getMessages","sendOtherMessage","sendPreviewMessage","sendIceCandidateMessage","sendSessionDescriptionMessage","sendThreadTextMessageSync","sendThreadImageMessageSync","sendContactTextMessage","sendContactImageMessage","sendGroupTextMessage","sendGroupImageMessage"]),{switchEmoji:function(){this.disabled||(this.show_emoji=!this.show_emoji)},emotionUrl:function(t){return p.EMOJI_BASE_URL+t},emotionClicked:function(t){this.inputContent+=t,this.show_emoji=!1},inputTipClicked:function(t){this.inputContent=t+" "},handleRemove:function(t,e){console.log(t,e);for(var n=0;n<this.uploadedImageList.length;n++)this.uploadedImageList[n].url===t.url&&this.uploadedImageList.splice(n,1)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))},handleImageUploadSuccess:function(t,e){if(console.log("upload image success result:",t," file:",e),200===t.status_code){var n=t.data;if(this.userCurrentThread.type===p.THREAD_TYPE_THREAD)this.sendThreadImageMessageSync(n);else if(this.userCurrentThread.type===p.THREAD_TYPE_CONTACT){var o={uid:this.userCurrentThread.contact.uid,imageUrl:n};this.sendContactImageMessage(o)}else if(this.userCurrentThread.type===p.THREAD_TYPE_GROUP){var i={gid:this.userCurrentThread.group.gid,imageUrl:n};this.sendGroupImageMessage(i)}}else this.$message.error("上传图片错误，请稍后重试...")},beforeImageUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,n=t.size/1024/1024<2;e||this.$message.error("上传头像图片只能是 jpg 或 png 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!");var o=moment(new Date).format("YYYYMMDDHHmmss");return"image/jpeg"===t.type?this.upload_data.file_name=o+".jpg":"image/png"===t.type&&(this.upload_data.file_name=o+".png"),e&&n},beforeFileUpload:function(t){this.upload_data.file_name=t.name,this.uploadFileType=t.type;var e=t.size/1024/1024<2;return e},handleFileUploadSuccess:function(t,e){if(console.log("upload file success result:",t," file:",e),200===t.status_code){var n=t.data,o="image/jpeg"===this.uploadFileType.type||"image/png"===this.uploadFileType.type;if(o)this.sendImageMessage(n);else{var i={fileUrl:n,format:this.uploadFileType};this.sendFileMessage(i)}}else this.$message.error("上传文件错误，请稍后重试...")},showInviteRate:function(){this.inviteRate(this.userCurrentThread.tid)},showCaptureDialog:function(){console.log("show capture")},showPhoneDialog:function(){console.log("show phone")},showBlockDialog:function(){this.blockDialogVisible=!0},doBlock:function(){if(this.blockReason.trim().length>0){var t={uid:this.userCurrentThread.visitor.uid,type:"默认类型",note:this.blockReason};this.addBlock(t),this.blockDialogVisible=!1}else this.$message.error("拉黑理由不能为空")},showRtcDialog:function(){this.disabled||(this.rtcDialogVisible=!0,this.isRtcInitiator=!0)},handleRtcDialogClose:function(t){var e=this;this.isRtcStarted?this.$confirm("确认关闭？").then(function(n){e.hangUpCall(),t()}).catch(function(n){e.hangUpCall(),t()}):(this.isRtcInitiator=!1,this.rtcDialogVisible=!1,this.isRtcStarted=!1)},closeRtcDialog:function(){var t=this;this.isRtcStarted?this.$confirm("确认关闭？").then(function(e){t.hangUpCall()}).catch(function(e){t.hangUpCall()}):(this.isRtcInitiator=!1,this.rtcDialogVisible=!1,this.isRtcStarted=!1)},startInviteVideoCall:function(){this.isRtcInitiator=!0,this.sendInviteMessage(),this.initLocalStream()},startAudioCall:function(){},acceptVideoCall:function(){this.sendAcceptMessage(),this.initLocalStream()},rejectVideoCall:function(){this.sendRejectMessage()},initLocalStream:function(){var t=this;this.rtcLocalVideo=document.getElementById("localVideo"),this.rtcLocalVideo.addEventListener("loadedmetadata",function(t){var e=t.target;console.log("本地视频窗口 ".concat(e.id," videoWidth: ").concat(e.videoWidth,"px, ")+"videoHeight: ".concat(e.videoHeight,"px."))}),this.rtcRemoteVideo=document.getElementById("remoteVideo"),this.rtcRemoteVideo.addEventListener("loadedmetadata",function(t){var e=t.target;console.log("远程视频窗口 ".concat(e.id," videoWidth: ").concat(e.videoWidth,"px, ")+"videoHeight: ".concat(e.videoHeight,"px."))}),this.rtcRemoteVideo.addEventListener("onresize",function(t){var e=t.target;console.log("接通远程视频 remote resize ".concat(e.id," videoWidth: ").concat(e.videoWidth,"px, ")+"videoHeight: ".concat(e.videoHeight,"px."))}),navigator.mediaDevices.getUserMedia(this.mediaStreamConstraints).then(function(e){t.rtcLocalStream=e,t.rtcLocalVideo.srcObject=e,t.createPeerConnection(),t.rtcPeerConnection.addStream(e)}).catch(function(t){console.log("getUserMedia() error: "+t)})},createPeerConnection:function(){try{var t=this,e=null;this.rtcPeerConnection=new RTCPeerConnection(e),this.rtcPeerConnection.addEventListener("onicecandidate",function(e){console.log("icecandidate event: ",e),t.isRtcStarted=!0,null!==e.candidate&&void 0!==e.candidate&&t.sendCandidateMessage(e.candidate)}),this.rtcPeerConnection.iceconnectionstatechange=function(t){console.log("iceconnectionstatechange: ",t)},this.rtcPeerConnection.onaddstream=function(e){console.log("Remote stream added."),t.rtcRemoteStream=e.stream,t.rtcRemoteVideo.srcObject=e.stream},this.rtcPeerConnection.onremovestream=function(t){console.log("Remote stream removed. Event: ",t)},console.log("Created RTCPeerConnnection"),this.sendReadyMessage()}catch(n){console.log("Failed to create PeerConnection, exception: "+n.message)}},createRtcOffer:function(t){var e=this;this.rtcPeerConnection.createOffer(t).then(function(t){e.rtcPeerConnection.setLocalDescription(t).then(function(){console.log("offer set localDescription success")},function(t){console.log("offer set localDescription error: ",t)}),e.sendOfferMessage(t)},function(t){console.log("createOffer error: ",t)})},createRtcAnswer:function(){var t=this;this.rtcPeerConnection.createAnswer().then(function(e){t.rtcPeerConnection.setLocalDescription(e).then(function(){console.log("answer set localDescription success")},function(t){console.log("answer set localDescription error: ",t)}),t.sendAnswerMessage(e)},function(t){console.log(t)})},hangUpCall:function(){console.log("hangUpCall"),null!==this.rtcPeerConnection&&void 0!==this.rtcPeerConnection&&(console.log("do hangUpCall"),this.rtcPeerConnection.close(),this.rtcPeerConnection=null,this.rtcLocalStream.getAudioTracks()[0].stop(),this.rtcLocalStream.getVideoTracks()[0].stop(),this.rtcDialogVisible=!1),this.isRtcStarted=!1,this.sendCloseMessage()},sendInviteMessage:function(){var t={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_INVITE,content:"视频会话邀请"};this.sendOtherMessage(t)},sendCandidateMessage:function(t){var e={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_CANDIDATE,content:t};this.sendIceCandidateMessage(e)},sendOfferMessage:function(t){console.log("send offer sessionDescription");var e={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_OFFER_VIDEO,content:t};this.sendSessionDescriptionMessage(e)},sendAnswerMessage:function(t){console.log("send answer sessionDescription:",t);var e={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_ANSWER,content:t};this.sendSessionDescriptionMessage(e)},sendAcceptMessage:function(){console.log("send accept rtc");var t={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_ACCEPT,content:"接受视频会话"};this.sendOtherMessage(t)},sendRejectMessage:function(){console.log("send reject rtc");var t={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_REJECT,content:"拒绝视频会话"};this.sendOtherMessage(t)},sendReadyMessage:function(){console.log("send ready rtc");var t={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_READY,content:"视频就绪"};this.sendOtherMessage(t)},sendBusyMessage:function(){console.log("send busy rtc");var t={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_BUSY,content:"对方忙"};this.sendOtherMessage(t)},sendCloseMessage:function(){console.log("send close rtc");var t={type:p.MESSAGE_TYPE_NOTIFICATION_WEBRTC_CLOSE,content:"关闭视频会话"};this.sendOtherMessage(t)},showHistoryMessages:function(){this.messageDialogVisible=!0},onInputChange:function(t){if(!this.disabled){var e=t.trim();e.length>0&&this.sendPreviewMessage(e)}},onKeyUp:function(t){13===t.keyCode&&this.inputContent.trim().length>0&&this.sendMessage()},sendMessage:function(){if(!this.disabled){this.show_emoji=!1;var t=this.inputContent.trim();if(t.length>0){if(this.userCurrentThread.type===p.THREAD_TYPE_THREAD)this.sendThreadTextMessageSync(t);else if(this.userCurrentThread.type===p.THREAD_TYPE_CONTACT){var e={uid:this.userCurrentThread.contact.uid,content:t};this.sendContactTextMessage(e)}else if(this.userCurrentThread.type===p.THREAD_TYPE_GROUP){var n={gid:this.userCurrentThread.group.gid,content:t};this.sendGroupTextMessage(n)}this.inputContent=""}}},handleSearch:function(){console.log("searchMessage:",this.searchMessage)},prePage:function(){},nextPage:function(){var t=20;this.getMessages(t)}}),directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){var t=this;Bn.$on(p.EVENT_BUS_SELECT_CUW,function(e){t.disabled||(t.inputContent+=e)}),Bn.$on(p.EVENT_BUS_MESSAGE_PREVIEW,function(e){e.thread.tid===t.userCurrentThread.tid&&(t.inputTipVisible=!0,e.content.trim().length>0?t.previewContent="对方正在输入:"+e.content:t.previewContent="",setTimeout(function(){this.inputTipVisible=!1},5e3))}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_INVITE,function(e){t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc invite"):console.log("自己：event webrtc invite"),t.isRtcInitiator||(t.rtcDialogVisible=!0)}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_CANCEL,function(e){t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc cancel"):console.log("自己：event webrtc cancel"),t.rtcDialogVisible=!1}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_OFFER_VIDEO,function(e){if(t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc offer video"):console.log("自己：event webrtc offer video"),!t.isRtcInitiator){var n=e.sessionDescription;t.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.createRtcAnswer()}}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_OFFER_AUDIO,function(e){if(t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc offer audio"):console.log("自己：event webrtc offer audio"),!t.isRtcInitiator){var n=e.sessionDescription;null!==n&&void 0!==n&&(t.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.createRtcAnswer())}}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_ANSWER,function(e){if(t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc answer"):console.log("自己：event webrtc answer"),t.isRtcInitiator){var n=e.sessionDescription;null!==n&&void 0!==n&&t.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(n))}}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_CANDIDATE,function(e){if(t.userInfo.uid!==e.user.uid){console.log("对方：event webrtc candidate");var n=e.candidate;null!==n&&void 0!==n&&t.rtcPeerConnection.addIceCandidate(n).then(function(){console.log("addIceCandidate success")}).catch(function(t){console.log("addIceCandidate:",t)})}else console.log("自己：event webrtc candidate")}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_ACCEPT,function(e){t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc accept"):console.log("自己：event webrtc accept"),t.isRtcInitiator}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_REJECT,function(e){t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc reject"):console.log("自己：event webrtc reject"),t.hangUpCall(),t.isRtcInitiator=!1}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_READY,function(e){t.userInfo.uid!==e.user.uid?(console.log("对方：event webrtc ready"),t.isRtcInitiator&&t.createRtcOffer(t.videoOfferSdpConstraints)):console.log("自己：event webrtc ready")}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_BUSY,function(e){t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc busy"):console.log("自己：event webrtc busy"),t.hangUpCall(),t.isRtcInitiator=!1}),Bn.$on(p.EVENT_BUS_MESSAGE_WEBRTC_CLOSE,function(e){t.userInfo.uid!==e.user.uid?console.log("对方：event webrtc close"):console.log("自己：event webrtc close"),t.hangUpCall(),t.isRtcInitiator=!1})}},tu=Zr,eu=(n("14a4"),Object(l["a"])(tu,Xr,Qr,!1,null,"ebfcca9a",null));eu.options.__file="BdInput.vue";var nu=eu.exports,ou={name:"bd-main",components:{BdTop:Hr,BdMessage:Jr,BdInput:nu}},iu=ou,au=(n("c9d2"),Object(l["a"])(iu,Br,Lr,!1,null,"6a6ceaa2",null));au.options.__file="BdMain.vue";var su=au.exports,cu={name:"bd-chat",components:{BdAside:Gr,BdMain:su}},ru=cu,uu=(n("d4b0"),Object(l["a"])(ru,Ur,Pr,!1,null,"57359bb6",null));uu.options.__file="BdChat.vue";var lu=uu.exports,_u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-contact"}},[n("el-container",[n("el-aside",{staticStyle:{height:"100%"},attrs:{width:"250px"}},[n("bd-aside")],1),n("el-main",[n("bd-main")],1)],1)],1)},du=[],fu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-aside"}},[n("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("div",{staticStyle:{"margin-left":"20px"}},[t._v("\n          新的朋友TODO\n        ")])])],2),n("el-collapse-item",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("div",{staticStyle:{"margin-left":"20px"}},[t._v("\n          "+t._s(t.collapseGroupTitle)+"\n        ")])]),t._l(t.userGroups,function(e){return n("li",{key:e.gid,staticClass:"list-item",on:{click:function(n){t.selectGroup(e)}}},[n("div",{staticClass:"list-left"},[n("img",{staticClass:"avatar",attrs:{width:"30",height:"30",alt:e.nickname,src:e.avatar}})]),n("div",{staticClass:"list-right"},[n("div",{staticClass:"top"},[n("span",{staticClass:"nickname"},[t._v(t._s(e.nickname))])]),n("div",{staticClass:"bottom"},[n("span",{staticClass:"content"},[t._v(t._s(e.description))])])])])})],2),n("el-collapse-item",{attrs:{name:"3"}},[n("template",{slot:"title"},[n("div",{staticStyle:{"margin-left":"20px"}},[t._v("\n          "+t._s(t.collapseContactTitle)+"\n        ")])]),t._l(t.userContacts,function(e){return n("li",{key:e.uid,staticClass:"list-item",on:{click:function(n){t.selectContact(e)}}},[n("div",{staticClass:"list-left"},[n("img",{staticClass:"avatar",attrs:{width:"30",height:"30",alt:e.nickname,src:e.avatar}})]),n("div",{staticClass:"list-right"},[n("div",{staticClass:"top"},[n("span",{staticClass:"nickname"},[t._v(t._s(e.nickname))])]),n("div",{staticClass:"bottom"},[n("span",{staticClass:"content"},[t._v(t._s(e.description))])])])])})],2)],1)],1)},Eu=[],Tu={name:"bd-aside",data:function(){return{activeNames:["3"]}},computed:Object(Qc["a"])({},Object(E["c"])(["userContacts","userGroups"]),{collapseGroupTitle:function(){return"群聊 ("+this.userGroups.length+")"},collapseContactTitle:function(){return"联系人 ("+this.userContacts.length+")"}}),methods:Object(Qc["a"])({},Object(E["b"])(["updateChatType"]),{handleChange:function(t){console.log(t)},selectGroup:function(t){var e={type:p.THREAD_TYPE_GROUP,object:t};this.updateChatType(e)},selectContact:function(t){var e={type:p.THREAD_TYPE_CONTACT,object:t};this.updateChatType(e)}})},pu=Tu,mu=(n("a27b"),Object(l["a"])(pu,fu,Eu,!1,null,"5ccd9122",null));mu.options.__file="BdAside.vue";var gu=mu.exports,Iu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-main"}},[t.isContact?n("div",[n("p",[t._v(t._s(t.userCurrentContact.nickname))]),n("p",[t._v(t._s(t.userCurrentContact.description))]),n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success"},on:{click:t.startChat}},[t._v("发消息")])],1):t._e(),t.isGroup?n("div",[n("p",[t._v(t._s(t.userCurrentGroup.nickname))]),n("p",[t._v(t._s(t.userCurrentGroup.description))]),n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success"},on:{click:t.startChat}},[t._v("发消息")])],1):t._e()])},Su=[],hu={name:"bd-main",data:function(){return{}},computed:Object(Qc["a"])({},Object(E["c"])(["userCurrentChatType","userCurrentContact","userCurrentGroup"]),{isContact:function(){return this.userCurrentChatType===p.THREAD_TYPE_CONTACT},isGroup:function(){return this.userCurrentChatType===p.THREAD_TYPE_GROUP}}),methods:Object(Qc["a"])({},Object(E["b"])([]),{startChat:function(){console.log("startChat")}})},Ou=hu,Nu=(n("4714"),Object(l["a"])(Ou,Iu,Su,!1,null,"bc50ccd8",null));Nu.options.__file="BdMain.vue";var Cu=Nu.exports,Ru={name:"bd-contact",components:{BdAside:gu,BdMain:Cu}},Au=Ru,vu=(n("cd8f"),Object(l["a"])(Au,_u,du,!1,null,"1553ba41",null));vu.options.__file="BdContact.vue";var bu=vu.exports,Uu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-favorite"}},[n("el-container",[n("el-aside",{staticStyle:{height:"100%"},attrs:{width:"250px"}},[n("bd-aside")],1),n("el-main",[n("bd-main")],1)],1)],1)},Pu=[],ku=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-aside"}},[t._v("\n  aside\n")])},yu=[],wu={name:"bd-aside"},Du=wu,Mu=Object(l["a"])(Du,ku,yu,!1,null,"3bab99a4",null);Mu.options.__file="BdAside.vue";var Gu=Mu.exports,Bu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-main"}},[t._v("\n  favorite\n")])},Lu=[],Fu={name:"bd-main"},Vu=Fu,xu=Object(l["a"])(Vu,Bu,Lu,!1,null,"32f20616",null);xu.options.__file="BdMain.vue";var ju=xu.exports,Yu={name:"bd-favorite",components:{BdAside:Gu,BdMain:ju}},Hu=Yu,Wu=(n("7f64"),Object(l["a"])(Hu,Uu,Pu,!1,null,"dc6f11a6",null));Wu.options.__file="BdFavorite.vue";var $u=Wu.exports,zu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-setting"}},[n("el-tabs",{staticStyle:{height:"100%"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"个人资料",name:"profile"}},[n("bd-profile")],1),n("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"通用设置",name:"notice"}},[n("bd-common")],1)],1)],1)},qu=[],Ku=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-profile"}},[n("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!0},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}})],1),n("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!0},model:{value:t.userInfo.nickname,callback:function(e){t.$set(t.userInfo,"nickname",e)},expression:"userInfo.nickname"}})],1),n("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[n("img",{staticStyle:{float:"left","margin-right":"15px"},attrs:{src:t.userInfo.avatar,width:"40px",height:"40px"}}),n("el-upload",{staticClass:"upload-demo",attrs:{data:t.upload_data,name:t.upload_name,action:t.uploadImageServerUrl,"on-success":t.handleImageUploadSuccess,"before-upload":t.beforeImageUpload}},[n("el-button",{attrs:{size:"small",type:"primary",disabled:!0}},[t._v("点击上传")])],1)],1),n("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!0},model:{value:t.userInfo.mobile,callback:function(e){t.$set(t.userInfo,"mobile",e)},expression:"userInfo.mobile"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!0},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),n("el-form-item",{attrs:{label:"个性签名",prop:"description"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:2,placeholder:"这个人很懒,什么也没有写",disabled:!0},model:{value:t.userInfo.description,callback:function(e){t.$set(t.userInfo,"description",e)},expression:"userInfo.description"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.editProfile}},[t._v("编辑")])],1)],1),n("el-dialog",{attrs:{title:"编辑个人资料",visible:t.editProfileDialogVisible,width:"50%",center:""},on:{"update:visible":function(e){t.editProfileDialogVisible=e}}},[n("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{rules:t.rules,model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{disabled:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),n("el-form-item",{attrs:{label:"新密码",prop:"password"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{"auto-complete":"off",placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[n("el-input",{staticStyle:{width:"250px"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),n("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[n("img",{staticStyle:{float:"left","margin-right":"15px"},attrs:{src:t.form.avatar,width:"40px",height:"40px"}}),n("el-upload",{staticClass:"upload-demo",attrs:{data:t.upload_data,name:t.upload_name,action:t.uploadImageServerUrl,"on-success":t.handleImageUploadSuccess,"before-upload":t.beforeImageUpload}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),n("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[n("el-input",{staticStyle:{width:"250px"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{staticStyle:{width:"250px"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),n("el-form-item",{attrs:{label:"个性签名",prop:"description"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{type:"textarea",rows:2,placeholder:"这个人很懒,什么也没有写"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editProfileDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.doUpdateProfile}},[t._v("保 存")])],1)],1)],1)},Ju=[],Xu={name:"bd-profile",data:function(){return{editProfileDialogVisible:!1,form:{username:"",password:"",name:"",avatar:"",mobile:"",email:"",description:"",welcomeTip:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"}],avatar:[{required:!0,message:"上传头像",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],description:[{required:!0,message:"请输入简介",trigger:"blur"}]},upload_headers:{"X-CSRF-TOKEN":"","X-Requested-With":"XMLHttpRequest",Accept:"application/json",Authorization:"Bearer "},upload_data:{file_name:"test.png",username:""},upload_name:"file",isIp:p.IS_IP,electron:p.IS_ELECTRON}},computed:Object(Qc["a"])({},Object(E["c"])(["userInfo","mainHost"]),{adminUrl:function(){return this.isIp?p.LOGIN_URL:p.HTTP_PREFIX+this.userInfo.subDomain+"."+this.mainHost+"/admin#/login"},isSaveButtonDisabled:function(){return!1},uploadImageServerUrl:function(){return p.UPLOAD_IMAGE_URL},isSubDomainDiabled:function(){return!0}}),methods:Object(Qc["a"])({},Object(E["b"])(["updateProfile"]),{username:function(t){return this.userInfo.agent?t.split("@")[0]:t},handleImageUploadSuccess:function(t,e){console.log("upload image success result:",t," file:",e),200===t.status_code?this.form.avatar=t.data:this.$message.error("上传图片错误，请稍后重试...")},beforeImageUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,n=t.size/1024/1024<2;e||this.$message.error("上传头像图片只能是 jpg 或 png 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!");var o=moment(new Date).format("YYYYMMDDHHmmss");return"image/jpeg"===t.type?this.upload_data.file_name=o+".jpg":"image/png"===t.type&&(this.upload_data.file_name=o+".png"),e&&n},doUpdateProfile:function(){console.log("updateProfile"),this.userInfo.agent&&(this.form.username=this.form.username+"@"+this.form.subDomain),this.updateProfile(this.form),this.editProfileDialogVisible=!1},editProfile:function(){this.form.subDomain=this.userInfo.subDomain,this.userInfo.agent?this.form.username=this.userInfo.username.split("@")[0]:this.form.username=this.userInfo.username,this.form.nickname=this.userInfo.nickname,this.form.avatar=this.userInfo.avatar,this.form.mobile=this.userInfo.mobile,this.form.email=this.userInfo.email,this.form.description=this.userInfo.description,this.form.welcomeTip=this.userInfo.welcomeTip,this.editProfileDialogVisible=!0}})},Qu=Xu,Zu=(n("8711"),Object(l["a"])(Qu,Ku,Ju,!1,null,"70c92e55",null));Zu.options.__file="BdProfile.vue";var tl=Zu.exports,el=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bd-common"}},[n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},on:{change:t.onChange,"active-change":t.onActiveChange},model:{value:t.headerColor,callback:function(e){t.headerColor=e},expression:"headerColor"}})],1)},nl=[],ol={name:"bd-common",data:function(){return{headerColor:"#3f3f3f",predefineColors:["#3f3f3f","#ffd700","rgb(255, 120, 0)","#ff4500","#c71585","#90ee90","#00ced1","#1e90ff","rgba(0, 123, 255, 1)"]}},methods:{onChange:function(t){console.log("onChange:",t),localStorage.headerColor=t},onActiveChange:function(t){console.log("onActiveChange:",t)}}},il=ol,al=(n("ffe9"),Object(l["a"])(il,el,nl,!1,null,"114feb88",null));al.options.__file="BdCommon.vue";var sl=al.exports,cl={name:"bd-setting",components:{BdProfile:tl,BdCommon:sl},data:function(){return{activeName:"profile"}},methods:{handleClick:function(t,e){console.log(t,e)}}},rl=cl,ul=(n("2b25"),Object(l["a"])(rl,zu,qu,!1,null,"28024eea",null));ul.options.__file="BdSetting.vue";var ll=ul.exports,_l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center"},attrs:{id:"bd-notfound"}},[n("el-header"),n("el-main",[n("el-row",[n("el-col",{attrs:{span:6,id:"left-col"}},[n("div",{staticClass:"grid-content"})]),n("el-col",{attrs:{span:12,id:"middle-col"}},[n("div",[n("h1",[t._v("404，未找到相关页面")])])]),n("el-col",{attrs:{span:6,id:"right-col"}},[n("div",{staticClass:"grid-content"})])],1)],1)],1)},dl=[],fl={name:"bd-notfound",data:function(){return{}}},El=fl,Tl=(n("0780"),Object(l["a"])(El,_l,dl,!1,null,"4d8153b6",null));Tl.options.__file="404.vue";var pl=Tl.exports;function ml(t,e,n){Yc.getters.connected?n():n({path:"/login",query:{redirect:t.fullPath}})}function gl(t,e,n){Yc.getters.connected?n({path:"/admin",query:{redirect:t.fullPath}}):n()}a["default"].use(f["a"]);var Il=new f["a"]({routes:[{path:"/",component:Kc,children:[{path:"",component:Er,beforeEnter:gl,meta:{title:"登录 - "+p.DEFAULT_TITLE}},{path:"login",name:"login",component:Er,beforeEnter:gl,meta:{title:"登录 - "+p.DEFAULT_TITLE}},{path:"register",name:"register",component:Or,beforeEnter:gl,meta:{title:"注册 - "+p.DEFAULT_TITLE}},{path:"forget",name:"forget",component:br,beforeEnter:gl,meta:{title:"找回密码 - "+p.DEFAULT_TITLE}},{path:"/logout",name:"logout",beforeEnter:function(t,e,n){Yc.dispatch("logout").then(function(){console.log("go to login page"),n("/login")})}}]},{path:"/admin",component:rr,beforeEnter:ml,children:[{path:"",component:lu,meta:{title:"对话列表 - "+p.DEFAULT_TITLE}},{path:"chat",name:"chat",component:lu,meta:{title:"对话列表 - "+p.DEFAULT_TITLE}},{path:"contact",name:"contact",component:bu,meta:{title:"联系人 - "+p.DEFAULT_TITLE}},{path:"favorite",name:"favorite",component:$u,meta:{title:"我的收藏 - "+p.DEFAULT_TITLE}},{path:"setting",name:"setting",component:ll,meta:{title:"我的设置 - "+p.DEFAULT_TITLE}}]},{path:"*",component:pl}]});Il.beforeEach(function(t,e,n){t.meta.title&&(document.title=t.meta.title),n()});var Sl=Il,hl=n("5c96"),Ol=n.n(hl);n("0fae");a["default"].use(Ol.a),a["default"].config.productionTip=p.IS_PRODUCTION,new a["default"]({el:"#app",router:Sl,store:Yc,components:{App:d},template:"<App/>"})},"57d9":function(t,e,n){"use strict";var o=n("0995"),i=n.n(o);i.a},"60d1":function(t,e,n){"use strict";var o=n("ac49"),i=n.n(o);i.a},"64a9":function(t,e,n){},"73d3":function(t,e,n){window.axios=n("bc3a"),window._=n("2ef0"),window.StompJS=n("4572"),window.SockJS=n("cc7d"),window.moment=n("c1df")},7681:function(t,e,n){},"7f64":function(t,e,n){"use strict";var o=n("4957"),i=n.n(o);i.a},"825f":function(t,e,n){},8711:function(t,e,n){"use strict";var o=n("8bc0"),i=n.n(o);i.a},"8bc0":function(t,e,n){},"9b6c":function(t,e,n){},a27b:function(t,e,n){"use strict";var o=n("1a54"),i=n.n(o);i.a},ac49:function(t,e,n){},bb07:function(t,e,n){},bd0a:function(t,e,n){"use strict";var o=n("0eb4"),i=n.n(o);i.a},c0ec:function(t,e,n){},c9d2:function(t,e,n){"use strict";var o=n("d1c4"),i=n.n(o);i.a},cd8f:function(t,e,n){"use strict";var o=n("ec1e"),i=n.n(o);i.a},d1c4:function(t,e,n){},d4b0:function(t,e,n){"use strict";var o=n("f27c"),i=n.n(o);i.a},ec1e:function(t,e,n){},edd2:function(t,e,n){"use strict";var o=n("7681"),i=n.n(o);i.a},f244:function(t,e,n){},f27c:function(t,e,n){},fab0:function(t,e,n){"use strict";var o=n("2de7"),i=n.n(o);i.a},fc69:function(t,e,n){"use strict";var o=n("391f"),i=n.n(o);i.a},ffe9:function(t,e,n){"use strict";var o=n("9b6c"),i=n.n(o);i.a}});
//# sourceMappingURL=app.10e81241.js.map