<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>

    <div th:replace="fragments/header :: header-meta"/>

    <div th:replace="fragments/header :: header-css"/>

    <title>讨论社区 - <span th:utext="#{title}" th:remove="tag"></span> · <span th:utext="#{slogan}" th:remove="tag"></span></title>

</head>
<body>

    <div id="app">

        <div id="header">
            <!--<div th:replace="fragments/header :: header-light"/>-->

            <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" style="height: 70px;">
                <div class="container">
                    <!--<a class="navbar-brand" href="#">Container</a>-->
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarsExample07"
                            aria-controls="navbarsExample07"
                            aria-expanded="false"
                            aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarsExample07">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="/" target="_blank"><span th:utext="#{title}"></span></a>
                            </li>
                        </ul>
                        <ul class="navbar-nav">
                            <li class="nav-item" sec:authorize="isAnonymous()">
                                <a class="nav-link" href="/user/login">登录</a>
                            </li>
                            <li class="nav-item" sec:authorize="isAnonymous()">
                                <a class="nav-link" href="/user/registration">注册</a>
                            </li>
                            <li class="nav-item dropdown" sec:authorize="isAuthenticated()">
                                <a class="nav-link dropdown-toggle" href="#" id="dropdown02"
                                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <!--[[${#httpServletRequest.remoteUser}]]-->
                                    <!--<span sec:authentication="name"></span>-->
                                    <span th:text="${user.nickname}"></span>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="dropdown">
                                    <a class="dropdown-item" href="/user/profile" target="_blank">个人资料</a>
                                    <a class="dropdown-item" href="/user/logout">退出登录</a>
                                </div>
                            </li>
                        </ul>

                    </div>
                </div>
            </nav>

        </div>

        <main class="container" style="margin-top: 150px; margin-bottom: 100px; min-height: 1000px;">

            <div class="row" style="margin-top: 50px;">





            </div>

        </main>

    </div>

    <div th:replace="fragments/footer :: footer-div"/>

    <div th:replace="fragments/footer :: footer-js"/>

    <!--客服上线代码 -->
    <!--<div th:replace="fragments/footer :: footer-chat"/>-->

    <script type="text/javascript">
        // axios.defaults.baseURL = "/visitor/api/";
        var app = new Vue({
            el: "#app",
            data() {
                return {
                    currentPage: 1,
                    pageSize: 20,
                    uid: "",
                    searchContent: "",
                }
            },
            methods: {
                getUrlParam(name) {
                    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
                    var r = window.location.search.substr(1).match(reg);  //匹配目标参数
                    if (r != null) return decodeURIComponent(r[2]);
                    return null; //返回参数值
                }
            },
            created() {
                // this.uid = this.getUrlParam('uid');
                // console.log('created, uid :', this.uid)
            },
            mounted() {
                console.log(('mounted'))
            }
        })
    </script>

</body>
</html>
